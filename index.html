<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="eatiht : A simple tool used to extract an article&#39;s text in html documents.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>eatiht</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/rodricios/eatiht">View on GitHub</a>

          <h1 id="project_title">eatiht</h1>
          <h2 id="project_tagline">A simple tool used to extract an article&#39;s text in html documents.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/rodricios/eatiht/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/rodricios/eatiht/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="eatiht" class="anchor" href="#eatiht" aria-hidden="true"><span class="octicon octicon-link"></span></a>eatiht</h1>

<p>A python package for <strong>e</strong>xtracting <strong>a</strong>rticle <strong>t</strong>ext <strong>i</strong>n <strong>ht</strong>ml documents. Check out this <a href="http://web-tier-load-balancer-1502628209.us-west-2.elb.amazonaws.com/filter?url=http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html">demo</a>.</p>

<h3>
<a id="update" class="anchor" href="#update" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update</h3>

<p>Functionally critical update coming in next release. Please head over to <a href="https://github.com/rodricios/eatiht/issues">issues</a> for upcoming list of new features and changes.</p>

<h3>
<a id="what-people-have-been-saying" class="anchor" href="#what-people-have-been-saying" aria-hidden="true"><span class="octicon octicon-link"></span></a>What people have been saying</h3>

<p><em>You should write a paper on this work</em> - <a href="http://www.reddit.com/r/compsci/comments/2ppyot/just_made_what_i_consider_my_first_algorithm_it/cmz0vfj">/u/queue_cumber</a></p>

<p><em>This is neat-o. A short and sweet project...</em> - <a href="http://www.reddit.com/r/compsci/comments/2ppyot/just_made_what_i_consider_my_first_algorithm_it/cmz17gv">/u/CandyCorns_</a></p>

<p><em>From a quick glance this looks super elegant! Very neat idea!</em> - <a href="http://www.reddit.com/r/compsci/comments/2ppyot/just_made_what_i_consider_my_first_algorithm_it/cmz3akt">/u/worldsayshi</a></p>

<h2>
<a id="at-a-glance" class="anchor" href="#at-a-glance" aria-hidden="true"><span class="octicon octicon-link"></span></a>At a Glance</h2>

<h4>
<a id="to-install" class="anchor" href="#to-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>To install:</h4>

<div class="highlight highlight-bash"><pre>pip install eatiht
...
easy_install eatiht</pre></div>

<p>Note: On Windows, you may need to install lxml manually using:
pip install lxml</p>

<h4>
<a id="using-in-python" class="anchor" href="#using-in-python" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using in Python</h4>

<div class="highlight highlight-python"><pre><span class="pl-k">import</span> eatiht

url <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>http://news.yahoo.com/curiosity-rover-drills-mars-rock-finds-water-122321635.html<span class="pl-pds">'</span></span>

<span class="pl-k">print</span> eatiht.extract(url)</pre></div>

<h5>
<a id="output" class="anchor" href="#output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Output</h5>

<pre><code>NASA's Curiosity rover is continuing to help scientists piece together the mystery of how Mars lost its
surface water over the course of billions of years. The rover drilled into a piece of Martian rock called
Cumberland and found some ancient water hidden within it. Researchers were then able to test a key ratio
in the water with Curiosity's onboard instruments...
</code></pre>

<h4>
<a id="using-as-a-command-line-tool" class="anchor" href="#using-as-a-command-line-tool" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using as a command line tool:</h4>

<div class="highlight highlight-bash"><pre>eatiht http://news.yahoo.com/curiosity-rover-drills-mars-rock-finds-water-122321635.html <span class="pl-k">&gt;&gt;</span> out.txt</pre></div>

<p>Note: Window's users may have to add the C:\PythonXX\Scripts directory to your <a href="http://www.computerhope.com/issues/ch000549.htm">"path"</a> so that the command line tool works from any directory, not only the ..\Scripts directory.</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<pre><code>requests
lxml
</code></pre>

<h2>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Motivation</h2>

<p>After searching through the deepest crevices of the internet for some tool|library|module that could effectively extract the main content from a website (ignoring text from ads, sidebar links, etc.), I was slightly disheartened by the apparent ambiguity caused by this content-extraction problem.</p>

<p>My survey resulted in some of the following solutions:</p>

<ul>
<li>
<a href="https://code.google.com/p/boilerpipe/">boilerpipe</a> - <em>Boilerplate Removal and Fulltext Extraction from HTML pages</em>. Java library written by Christian Kohlsch√ºtter</li>
<li>
<a href="http://ai-depot.com/articles/the-easy-way-to-extract-useful-text-from-arbitrary-html/">"The Easy Way to Extract Useful Text from Arbitrary HTML"</a> - a Python tutorial on implementing a neural network for html content extraction. Written by alexjc</li>
<li>
<a href="https://github.com/xiaoxu193/PyTeaser/blob/master/goose/cleaners.py">Pyteaser's Cleaners module</a> - from what I can tell, it's a purely heuristic-based process</li>
<li>
<a href="http://www.cse.nd.edu/%7Etweninge/pubs/WH_TIR08.pdf">"Text Extraction from the Web via Text-to-Tag Ratio"</a> - a thesis on Text-to-Tag-heuristic driven clustering as a solution for the problem at hand. Written by Tim Weninger &amp; William H. Hsu</li>
</ul>

<p>The number of research papers I found on the subject largely outweighs the number available open-source projects. This is my attempt at balancing out the disparity.</p>

<p>In the process of coming up with a solution, I made two unoriginal observations:</p>

<ol>
<li>XPath's select all (//), parent node (..) queries and functions ('string-length') are remarkably powerful when used together</li>
<li>Unnecessary machine learning is unnecessary</li>
</ol>

<p>By making an assumption on sentence length, and this is trivial, one can query for text-nodes satisfying said sentence length, then create a frequency distribution (histogram) across the parent-nodes, and the argmax of the resulting distribution is the xpath that is shared amongst likely sentences.</p>

<p>The results were surprisingly good. I personally prefer this approach to the others as it seems to lie somewhere in between the purely rule-based and the drowning-in-ML approaches.</p>

<h2>
<a id="issues-or-contact" class="anchor" href="#issues-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Issues or Contact</h2>

<p>Please raise any <a href="https://github.com/rodricios/eatiht/issues">issues</a> or yell at me at <a href="mailto:rodrigopala91@gmail.com">rodrigopala91@gmail.com</a> or <a href="https://twitter.com/rodricios">@rodricios</a></p>

<h2>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span class="octicon octicon-link"></span></a>TODO:</h2>

<ul>
<li>
<del>Add newline and tab options for printing.</del> Please check out the <a href="http://web-tier-load-balancer-1502628209.us-west-2.elb.amazonaws.com/filter?url=http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html">demo</a> for the new <strong>default</strong> output (sorry, no options for formatting as of yet).</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">eatiht maintained by <a href="https://github.com/rodricios">rodricios</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-57938819-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
