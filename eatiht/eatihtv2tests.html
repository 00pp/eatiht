<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="DreamPie Format" content="1">
<title>DreamPie History</title>
<style>
body {
  white-space: pre-wrap;
  font-family: Courier New;
  font-size: 10240;
  color: #ffffff;
  background-color: #000000;
}
span.folded {
 display: none;
}
span.commandsep {
 display: none;
}
span.command-defs {
}
span.command {
}
span.output {
}
span.fold-message {
  color: #a7a7a7;
  background-color: #003b6c;
}
span.message {
  color: #ffff00;
}
span.prompt {
  color: #e400b6;
}
span.exception {
  color: #ff8080;
}
span.result-ind {
  color: #0000ff;
}
span.result {
  color: #bcffff;
}
span.stderr {
  color: #ff8080;
}
span.stdout {
  color: #bcffff;
}
span.stdin {
}
span.error {
  background-color: #ff0000;
}
span.bracket-3 {
  color: #ffabab;
}
span.bracket-2 {
  color: #dfabff;
}
span.bracket-1 {
  color: #abffab;
}
span.bracket-match {
  background-color: #00008b;
}
span.comment {
  color: #c9a3a0;
}
span.number {
  color: #aeacff;
}
span.string {
  color: #00e400;
}
span.builtin {
  color: #efcfcf;
}
span.keyword {
  color: #ff7700;
}
</style>
</head>
<body><span class="message">Python 2.7.8 (default, Jun 30 2014, 16:08:48) [MSC v.1500 64 bit (AMD64)] on win32
Type "copyright", "credits" or "license()" for more information.
DreamPie 1.2.1
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> os
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatit
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#3&gt;", line 1, in &lt;module&gt;
    import eatit
ImportError: No module named eatit
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>x = eatiht.extract(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> sys
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>sys.stdout.encoding
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">'UTF-8'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> encodings
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>encodings.<span class="builtin">__doc__</span>
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">' Standard "encodings" Package\n\n    Standard Python encoding modules are stored in this package\n    directory.\n\n    Codec modules must have names corresponding to normalized encoding\n    names as defined in the normalize_encoding() function below, e.g.\n    \'utf-8\' must be implemented by the module \'utf_8.py\'.\n\n    Each codec module must export the following interface:\n\n    * getregentry() -&gt; codecs.CodecInfo object\n    The getregentry() API must a CodecInfo object with encoder, decoder,\n    incrementalencoder, incrementaldecoder, streamwriter and streamreader\n    atttributes which adhere to the Python Codec Interface Standard.\n\n    In addition, a module may optionally also define the following\n    APIs which are then used by the package\'s codec search function:\n\n    * getaliases() -&gt; sequence of encoding name strings to use as aliases\n\n    Alias names returned by getaliases() must be normalized encoding\n    names as defined by normalize_encoding().\n\nWritten by Marc-Andre Lemburg (mal@lemburg.com).\n\n(c) Copyright CNRI, All Rights Reserved. NO WARRANTY.\n\n'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> encodings.<span class="builtin">__doc__</span>
</span><span class="commandsep"></span><span class="output"><span class="stdout"> Standard "encodings" Package

    Standard Python encoding modules are stored in this package
    directory.

    Codec modules must have names corresponding to normalized encoding
    names as defined in the normalize_encoding() function below, e.g.
    'utf-8' must be implemented by the module 'utf_8.py'.

    Each codec module must export the following interface:

    * getregentry() -&gt; codecs.CodecInfo object
    The getregentry() API must a CodecInfo object with encoder, decoder,
    incrementalencoder, incrementaldecoder, streamwriter and streamreader
    atttributes which adhere to the Python Codec Interface Standard.

    In addition, a module may optionally also define the following
    APIs which are then used by the package's codec search function:

    * getaliases() -&gt; sequence of encoding name strings to use as aliases

    Alias names returned by getaliases() must be normalized encoding
    names as defined by normalize_encoding().

Written by Marc-Andre Lemburg (mal@lemburg.com).

(c) Copyright CNRI, All Rights Reserved. NO WARRANTY.


</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">type</span>(x)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">2: </span><span class="result">&lt;type 'unicode'&gt;
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> x[:<span class="number">100</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">WASHINGTON —  American officials have concluded that North Korea was “centrally involved” in the hac
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> x[:<span class="number">1000</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">WASHINGTON —  American officials have concluded that North Korea was “centrally involved” in the hacking of Sony Pictures computers, even as the studio canceled the release of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack. 

Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse North Korea of what amounts to a cyberterrorism attack. Sony capitulated after the hackers threatened additional attacks, perhaps on theaters themselves, if the movie, “The Interview,” was released. 

Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined N
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> x
</span><span class="commandsep"></span><span class="output"><span class="stdout">WASHINGTON —  American officials have concluded that North Korea was “centrally involved” in the hacking of Sony Pictures computers, even as the studio canceled the release of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack. 

Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse North Korea of what amounts to a cyberterrorism attack. Sony capitulated after the hackers threatened additional attacks, perhaps on theaters themselves, if the movie, “The Interview,” was released. 

Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea��s culpability, including the possible penetration of the North’s computer networks. 

A preview of the film. 

Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with delicate diplomatic negotiations for the return of Japanese citizens kidnapped years ago. 

The government is “considering a range of options in weighing a potential response,” said Bernadette Meehan, a spokeswoman for the National Security Council. 

The administration’s sudden urgency came after a new threat was delivered this week to desktop computers at Sony’s offices, warning that if “The Interview” was released on Dec. 

“Remember the 11th of September 2001,” it said. 

Hours before Sony canceled the movie, the four largest theater chains in the United States — Regal Entertainment, AMC Entertainment, Cinemark and Carmike Cinemas — and several smaller chains said they would not show “The Interview” as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie. 

While intelligence officials have concluded that the cyberattack was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company’s computer systems, senior administration officials said. 

“This is of a different nature than past attacks,” one official said. 

An attack that began by wiping out data on corporate computers — something that had been previously seen in South Korea and Saudi Arabia — had turned “into a threat to the safety of Americans,” the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely. 

It is not clear how the United States determined that Mr. Kim’s government had played a central role in the Sony attacks. North Korea’s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country’s computer operations, including its elite cyberteam, and to establish “implants” in the country’s networks that, like a radar system, would monitor the development of malware transmitted from the country. 

It is hardly a foolproof system. Much of North Korea’s hacking is done from China. 

It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or JPMorgan Chase’s systems last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case. 

But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony’s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, one in Saudi Arabia two years ago — widely attributed to Iran — and another last year in South Korea aimed at banks and media companies. 

The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack. 

The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said. 

The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on 30,000 of the company’s computers, replacing it with an image of a burning American flag. 

Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market. 

At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony’s network. 

“It’s clear that they already had access to Sony’s network before the attack,” said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm. 

What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood’s largest studios and Japan’s most famous companies to surrender. 

Many attacks have been aimed at stealing credit card data, like the intrusions on the Home Depot and Target networks — and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that targeted Iran’s nuclear program was a rare attack on infrastructure. 

Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers. 

But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive. 

The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony’s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had “created a backdoor to Sony’s systems” that they repeatedly re-entered to send threatening messages to Sony employees. 

But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country’s cyberarsenal for fear of retaliation. 

David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles. 

A version of this article appears in print on December 18, 2014, on page A1 of the New York edition with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony.
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> x
</span><span class="commandsep"></span><span class="output"><span class="stdout">WASHINGTON —  American officials have concluded that North Korea was “centrally involved” in the hacking of Sony Pictures computers, even as the studio canceled the release of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack. 

Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse North Korea of what amounts to a cyberterrorism attack. Sony capitulated after the hackers threatened additional attacks, perhaps on theaters themselves, if the movie, “The Interview,” was released. 

Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea��s culpability, including the possible penetration of the North’s computer networks. 

A preview of the film. 

Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with delicate diplomatic negotiations for the return of Japanese citizens kidnapped years ago. 

The government is “considering a range of options in weighing a potential response,” said Bernadette Meehan, a spokeswoman for the National Security Council. 

The administration’s sudden urgency came after a new threat was delivered this week to desktop computers at Sony’s offices, warning that if “The Interview” was released on Dec. 

“Remember the 11th of September 2001,” it said. 

Hours before Sony canceled the movie, the four largest theater chains in the United States — Regal Entertainment, AMC Entertainment, Cinemark and Carmike Cinemas — and several smaller chains said they would not show “The Interview” as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie. 

While intelligence officials have concluded that the cyberattack was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company’s computer systems, senior administration officials said. 

“This is of a different nature than past attacks,” one official said. 

An attack that began by wiping out data on corporate computers — something that had been previously seen in South Korea and Saudi Arabia — had turned “into a threat to the safety of Americans,” the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely. 

It is not clear how the United States determined that Mr. Kim’s government had played a central role in the Sony attacks. North Korea’s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country’s computer operations, including its elite cyberteam, and to establish “implants” in the country’s networks that, like a radar system, would monitor the development of malware transmitted from the country. 

It is hardly a foolproof system. Much of North Korea’s hacking is done from China. 

It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or JPMorgan Chase’s systems last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case. 

But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony’s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, one in Saudi Arabia two years ago — widely attributed to Iran — and another last year in South Korea aimed at banks and media companies. 

The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack. 

The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said. 

The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on 30,000 of the company’s computers, replacing it with an image of a burning American flag. 

Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market. 

At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony’s network. 

“It’s clear that they already had access to Sony’s network before the attack,” said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm. 

What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood’s largest studios and Japan’s most famous companies to surrender. 

Many attacks have been aimed at stealing credit card data, like the intrusions on the Home Depot and Target networks — and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that targeted Iran’s nuclear program was a rare attack on infrastructure. 

Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers. 

But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive. 

The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony’s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had “created a backdoor to Sony’s systems” that they repeatedly re-entered to send threatening messages to Sony employees. 

But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country’s cyberarsenal for fear of retaliation. 

David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles. 

A version of this article appears in print on December 18, 2014, on page A1 of the New York edition with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony.
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
<span class="prompt">... </span><span class="keyword">import</span> eatit
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#0&gt;", line 4, in &lt;module&gt;
    import eatit
ImportError: No module named eatit
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> eatiht.<span class="builtin">__doc__</span>
</span><span class="commandsep"></span><span class="output"><span class="stdout">
eatiht - Extract Article Text In HyperText documents

Written by Rodrigo Palacios

Note: for those unfamiliar with xpaths, think of them as file/folder
paths, where each "file/folder" is really just some HTML element.

Algorithm, dammit!:
Using a clever xpath expression that targets the immediate parents of
text nodes of a certain length N, one can get a list of parent nodes
which have, what we can consider as "ideal," text nodes (nodes that
have sentences).

For each text node, we "partition" the text node so that instead of the
parent node having the original text node as its lone child, the parent
now has P children; the partitioning method used is a REGEX sentence
split.

Finally, using now the *parents* of the the above mentioned parent
nodes as our sample, we create a frequency distribution measuring
the number of text node descendants of each parent. In other words,
We can find the xpath with the most number of text node descendants.
This output has shown to lead us to the main article in a webpage.

</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>st = eatiht.get_sentence_xpath_tuples_no_partition(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#3&gt;", line 1, in &lt;module&gt;
    st = eatiht.get_sentence_xpath_tuples_no_partition(url)
  File "eatiht.py", line 156, in get_sentence_xpath_tuples_no_partition
    else (n.xpath('.//text()'), xpath_finder(n))]
NameError: global name 'n' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>st = eatiht.get_sentence_xpath_tuples_no_partition(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#5&gt;", line 1, in &lt;module&gt;
    st = eatiht.get_sentence_xpath_tuples_no_partition(url)
  File "eatiht.py", line 156, in get_sentence_xpath_tuples_no_partition
    else (n.xpath('.//text()'), xpath_finder(n))
NameError: global name 'n' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>st = eatiht.get_sentence_xpath_tuples_no_partition(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#1&gt;", line 1, in &lt;module&gt;
    st = eatiht.get_sentence_xpath_tuples_no_partition(url)
NameError: name 'eatiht' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>st = eatiht.get_sentence_xpath_tuples_no_partition(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(st)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">35
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>stold = eatiht.get_sentence_xpath_tuples(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(stold)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">58
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>stnew = eatiht.get_sentence_xpath_tuples_no_partition(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#2&gt;", line 1, in &lt;module&gt;
    stnew = eatiht.get_sentence_xpath_tuples_no_partition(url)
  File "eatiht.py", line 191, in get_sentence_xpath_tuples_no_partition
    if s.endswith(tuple(sentence_ending))
AttributeError: 'list' object has no attribute 'endswith'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>stnew = eatiht.get_sentence_xpath_tuples_no_partition(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(stnew)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">25
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>stnew = eatiht.get_sentence_xpath_tuples_no_partition_no_sent_ending(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>nopart_nosentend = stnew
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>nopart = eatiht.get_sentence_xpath_tuples_no_partition(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>old = eatiht.get_sentence_xpath_tuples(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(nopart_nosentend)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">35
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(nopart)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">2: </span><span class="result">25
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(old)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">3: </span><span class="result">58
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> nopart_nosentend[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">(['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on Sony'], '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> nopart[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">(u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.', '/html/body/div[2]/main/article/div/p[1]')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> old[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">('\n\nAsia Pacific|U.S.', '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>x = eatiht.extract(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> x[:<span class="number">1000</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">WASHINGTON —  American officials have concluded that North Korea was “centrally involved” in the hacking of Sony Pictures computers, even as the studio canceled the release of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack. 

Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse North Korea of what amounts to a cyberterrorism attack. Sony capitulated after the hackers threatened additional attacks, perhaps on theaters themselves, if the movie, “The Interview,” was released. 

Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined N
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> nopart_nosentend[<span class="number">1</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">(['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], '/html/body/div[2]/main/article/header/div/h1')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> nopart_nosentend:
<span class="prompt">... </span>    <span class="keyword">print</span> i
</span><span class="commandsep"></span><span class="output"><span class="stdout">(['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on Son</span></span><span class="folded"><span class="output"><span class="stdout">y'], '/html/body/div[2]/header/div[1]/div[3]/h6')
(['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], '/html/body/div[2]/main/article/header/div/h1')
([u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], '/html/body/div[2]/main/article/div/p[1]')
(['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], '/html/body/div[2]/main/article/div/p[2]')
([u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], '/html/body/div[2]/main/article/div/p[3]')
([u'Trailer: \u2018The Interview\u2019'], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([u'Trailer: \u2018The Interview\u2019'], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
(['A preview of the film.'], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
(['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], '/html/body/div[2]/main/article/div/p[4]')
([u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], '/html/body/div[2]/main/article/div/p[5]')
([u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], '/html/body/div[2]/main/article/div/p[6]')
([u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], '/html/body/div[2]/main/article/div/p[7]')
([u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], '/html/body/div[2]/main/article/div/p[8]')
(['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], '/html/body/div[2]/main/article/div/p[9]')
([u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], '/html/body/div[2]/main/article/div/p[10]')
([u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], '/html/body/div[2]/main/article/div/p[11]')
([u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], '/html/body/div[2]/main/article/div/p[12]')
([u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], '/html/body/div[2]/main/article/div/p[13]')
(['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], '/html/body/div[2]/main/article/div/p[14]')
([u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], '/html/body/div[2]/main/article/div/p[15]')
(['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], '/html/body/div[2]/main/article/div/p[16]')
(['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], '/html/body/div[2]/main/article/div/p[17]')
(['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], '/html/body/div[2]/main/article/div/p[18]')
(['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], '/html/body/div[2]/main/article/div/p[19]')
([u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], '/html/body/div[2]/main/article/div/p[20]')
([u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], '/html/body/div[2]/main/article/div/p[21]')
([u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], '/html/body/div[2]/main/article/div/p[22]')
(['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], '/html/body/div[2]/main/article/div/p[23]')
(['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], '/html/body/div[2]/main/article/div/p[24]')
(['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], '/html/body/div[2]/main/article/div/p[25]')
([u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], '/html/body/div[2]/main/article/div/p[26]')
([u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], '/html/body/div[2]/main/article/div/p[27]')
([u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], '/html/body/div[2]/main/article/div/p[28]')
(['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], '/html/body/div[2]/main/article/div/footer/div/div/p')
(['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 135 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">def</span> get_sentence_xpath_tuples_no_partition_no_sent_ending(filename_url_or_fi</span><span class="folded"><span class="command">lelike, xpath_to_text=DEF_TEXT_FINDER_XPATH):
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">try</span>:
<span class="prompt">... </span>        parsed_html = html.parse(filename_url_or_filelike,
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">except</span> <span class="builtin">IOError</span> <span class="keyword">as</span> e:
<span class="prompt">... </span>        <span class="comment"># use requests as a workaround for problems in some</span>
<span class="prompt">... </span>        <span class="comment"># sites requiring cookies like nytimes.com</span>
<span class="prompt">... </span>        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor())
<span class="prompt">... </span>        response = opener.<span class="builtin">open</span>(filename_url_or_filelike).read()
<span class="prompt">... </span>
<span class="prompt">... </span>        <span class="comment"># http://lxml.de/parsing.html</span>
<span class="prompt">... </span>        parsed_html = html.parse(BytesIO(response),
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    xpath_finder = parsed_html.getroot().getroottree().getpath
<span class="prompt">... </span>
<span class="prompt">... </span>    nodes_with_text = parsed_html.xpath(xpath_to_text)
<span class="prompt">... </span>
<span class="prompt">... </span>    sent_xpath_pairs = [
<span class="prompt">... </span>        ((<span class="string">'\n'</span> + n.xpath(<span class="string">'.//text()'</span>) + <span class="string">'\n'</span>,<span class="number">0</span>), xpath_finder(n))    <span class="comment"># hard-code paragraph breaks (there has to be a better way)</span>
<span class="prompt">... </span>        <span class="keyword">for</span> n <span class="keyword">in</span> nodes_with_text
<span class="prompt">... </span>        ]
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">if</span> <span class="builtin">len</span>(sent_xpath_pairs) <span class="keyword">is</span> <span class="number">0</span>:
<span class="prompt">... </span>        <span class="keyword">raise</span> <span class="builtin">Exception</span>(<span class="string">"No text nodes satisfied the xpath:\n\n"</span> +
<span class="prompt">... </span>                        xpath_to_text + <span class="string">"\n\nThis can be due to user's"</span> +
<span class="prompt">... </span>                        <span class="string">" custom xpath, min_str_length value, or both"</span>)
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">return</span> sent_xpath_pairs</span></span><span class="command">
</span></span><span class="fold-message">[About 29 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#18&gt;", line 1, in &lt;module&gt;
    def get_sentence_xpath_tuples_no_partition_no_sent_ending(filename_url_or_filelike, xpath_to_text=DEF_TEXT_FINDER_XPATH):
NameError: name 'DEF_TEXT_FINDER_XPATH' is not defined
</span></span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>DEF_TEXT_FINDER_XPATH = eatiht.DEF_TEXT_FINDER_XPATH
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">def</span> get_sentence_xpath_tuples_no_partition_no_sent_ending(filename_url_or_fi</span><span class="folded"><span class="command">lelike, xpath_to_text=DEF_TEXT_FINDER_XPATH):
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">try</span>:
<span class="prompt">... </span>        parsed_html = html.parse(filename_url_or_filelike,
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">except</span> <span class="builtin">IOError</span> <span class="keyword">as</span> e:
<span class="prompt">... </span>        <span class="comment"># use requests as a workaround for problems in some</span>
<span class="prompt">... </span>        <span class="comment"># sites requiring cookies like nytimes.com</span>
<span class="prompt">... </span>        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor())
<span class="prompt">... </span>        response = opener.<span class="builtin">open</span>(filename_url_or_filelike).read()
<span class="prompt">... </span>
<span class="prompt">... </span>        <span class="comment"># http://lxml.de/parsing.html</span>
<span class="prompt">... </span>        parsed_html = html.parse(BytesIO(response),
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    xpath_finder = parsed_html.getroot().getroottree().getpath
<span class="prompt">... </span>
<span class="prompt">... </span>    nodes_with_text = parsed_html.xpath(xpath_to_text)
<span class="prompt">... </span>
<span class="prompt">... </span>    sent_xpath_pairs = [
<span class="prompt">... </span>        ((<span class="string">'\n'</span> + n.xpath(<span class="string">'.//text()'</span>) + <span class="string">'\n'</span>,<span class="number">0</span>), xpath_finder(n))    <span class="comment"># hard-code paragraph breaks (there has to be a better way)</span>
<span class="prompt">... </span>        <span class="keyword">for</span> n <span class="keyword">in</span> nodes_with_text
<span class="prompt">... </span>        ]
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">if</span> <span class="builtin">len</span>(sent_xpath_pairs) <span class="keyword">is</span> <span class="number">0</span>:
<span class="prompt">... </span>        <span class="keyword">raise</span> <span class="builtin">Exception</span>(<span class="string">"No text nodes satisfied the xpath:\n\n"</span> +
<span class="prompt">... </span>                        xpath_to_text + <span class="string">"\n\nThis can be due to user's"</span> +
<span class="prompt">... </span>                        <span class="string">" custom xpath, min_str_length value, or both"</span>)
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">return</span> sent_xpath_pairs</span></span><span class="command">
</span></span><span class="fold-message">[About 29 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">def</span> get_text_children_and_parent_xpaths(filename_url_or_filelike, xpath_to_t</span><span class="folded"><span class="command">ext=DEF_TEXT_FINDER_XPATH):
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">try</span>:
<span class="prompt">... </span>        parsed_html = html.parse(filename_url_or_filelike,
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">except</span> <span class="builtin">IOError</span> <span class="keyword">as</span> e:
<span class="prompt">... </span>        <span class="comment"># use requests as a workaround for problems in some</span>
<span class="prompt">... </span>        <span class="comment"># sites requiring cookies like nytimes.com</span>
<span class="prompt">... </span>        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor())
<span class="prompt">... </span>        response = opener.<span class="builtin">open</span>(filename_url_or_filelike).read()
<span class="prompt">... </span>
<span class="prompt">... </span>        <span class="comment"># http://lxml.de/parsing.html</span>
<span class="prompt">... </span>        parsed_html = html.parse(BytesIO(response),
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    xpath_finder = parsed_html.getroot().getroottree().getpath
<span class="prompt">... </span>
<span class="prompt">... </span>    nodes_with_text = parsed_html.xpath(xpath_to_text)
<span class="prompt">... </span>
<span class="prompt">... </span>    sent_xpath_pairs = [
<span class="prompt">... </span>        ((<span class="string">'\n'</span> + n.xpath(<span class="string">'.//text()'</span>) + <span class="string">'\n'</span>,<span class="number">0</span>), xpath_finder(n))    <span class="comment"># hard-code paragraph breaks (there has to be a better way)</span>
<span class="prompt">... </span>        <span class="keyword">for</span> n <span class="keyword">in</span> nodes_with_text
<span class="prompt">... </span>        ]
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">if</span> <span class="builtin">len</span>(sent_xpath_pairs) <span class="keyword">is</span> <span class="number">0</span>:
<span class="prompt">... </span>        <span class="keyword">raise</span> <span class="builtin">Exception</span>(<span class="string">"No text nodes satisfied the xpath:\n\n"</span> +
<span class="prompt">... </span>                        xpath_to_text + <span class="string">"\n\nThis can be due to user's"</span> +
<span class="prompt">... </span>                        <span class="string">" custom xpath, min_str_length value, or both"</span>)
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">return</span> sent_xpath_pairs</span></span><span class="command">
</span></span><span class="fold-message">[About 29 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#22&gt;", line 1, in &lt;module&gt;
    get_text_children_and_parent_xpaths(url)
  File "&lt;pyshell#21&gt;", line 3, in get_text_children_and_parent_xpaths
    parsed_html = html.parse(filename_url_or_filelike,
NameError: global name 'html' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> re</span><span class="folded"><span class="command">
<span class="prompt">... </span><span class="keyword">import</span> urllib2
<span class="prompt">... </span><span class="keyword">from</span> collections <span class="keyword">import</span> Counter
<span class="prompt">... </span><span class="keyword">try</span>:
<span class="prompt">... </span>    <span class="keyword">from</span> cStringIO <span class="keyword">import</span> StringIO <span class="keyword">as</span> BytesIO
<span class="prompt">... </span><span class="keyword">except</span> <span class="builtin">ImportError</span>:
<span class="prompt">... </span>    <span class="keyword">from</span> io <span class="keyword">import</span> BytesIO
<span class="prompt">... </span>
<span class="prompt">... </span><span class="keyword">from</span> lxml <span class="keyword">import</span> html
<span class="prompt">... </span><span class="keyword">from</span> lxml.html.clean <span class="keyword">import</span> clean_html
<span class="prompt">... </span>
<span class="prompt">... </span><span class="keyword">def</span> get_text_children_and_parent_xpaths(filename_url_or_filelike, xpath_to_text=DEF_TEXT_FINDER_XPATH):
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">try</span>:
<span class="prompt">... </span>        parsed_html = html.parse(filename_url_or_filelike,
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">except</span> <span class="builtin">IOError</span> <span class="keyword">as</span> e:
<span class="prompt">... </span>        <span class="comment"># use requests as a workaround for problems in some</span>
<span class="prompt">... </span>        <span class="comment"># sites requiring cookies like nytimes.com</span>
<span class="prompt">... </span>        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor())
<span class="prompt">... </span>        response = opener.<span class="builtin">open</span>(filename_url_or_filelike).read()
<span class="prompt">... </span>
<span class="prompt">... </span>        <span class="comment"># http://lxml.de/parsing.html</span>
<span class="prompt">... </span>        parsed_html = html.parse(BytesIO(response),
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    xpath_finder = parsed_html.getroot().getroottree().getpath
<span class="prompt">... </span>
<span class="prompt">... </span>    nodes_with_text = parsed_html.xpath(xpath_to_text)
<span class="prompt">... </span>
<span class="prompt">... </span>    sent_xpath_pairs = [
<span class="prompt">... </span>        ((<span class="string">'\n'</span> + n.xpath(<span class="string">'.//text()'</span>) + <span class="string">'\n'</span>,<span class="number">0</span>), xpath_finder(n))    <span class="comment"># hard-code paragraph breaks (there has to be a better way)</span>
<span class="prompt">... </span>        <span class="keyword">for</span> n <span class="keyword">in</span> nodes_with_text
<span class="prompt">... </span>        ]
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">if</span> <span class="builtin">len</span>(sent_xpath_pairs) <span class="keyword">is</span> <span class="number">0</span>:
<span class="prompt">... </span>        <span class="keyword">raise</span> <span class="builtin">Exception</span>(<span class="string">"No text nodes satisfied the xpath:\n\n"</span> +
<span class="prompt">... </span>                        xpath_to_text + <span class="string">"\n\nThis can be due to user's"</span> +
<span class="prompt">... </span>                        <span class="string">" custom xpath, min_str_length value, or both"</span>)
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">return</span> sent_xpath_pairs</span></span><span class="command">
</span></span><span class="fold-message">[About 40 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#24&gt;", line 1, in &lt;module&gt;
    get_text_children_and_parent_xpaths(url)
  File "&lt;pyshell#23&gt;", line 34, in get_text_children_and_parent_xpaths
    for n in nodes_with_text
TypeError: cannot concatenate 'str' and 'list' objects
</span></span></span><span class="fold-message">[About 5 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> re</span><span class="folded"><span class="command">
<span class="prompt">... </span><span class="keyword">import</span> urllib2
<span class="prompt">... </span><span class="keyword">from</span> collections <span class="keyword">import</span> Counter
<span class="prompt">... </span><span class="keyword">try</span>:
<span class="prompt">... </span>    <span class="keyword">from</span> cStringIO <span class="keyword">import</span> StringIO <span class="keyword">as</span> BytesIO
<span class="prompt">... </span><span class="keyword">except</span> <span class="builtin">ImportError</span>:
<span class="prompt">... </span>    <span class="keyword">from</span> io <span class="keyword">import</span> BytesIO
<span class="prompt">... </span>
<span class="prompt">... </span><span class="keyword">from</span> lxml <span class="keyword">import</span> html
<span class="prompt">... </span><span class="keyword">from</span> lxml.html.clean <span class="keyword">import</span> clean_html
<span class="prompt">... </span>
<span class="prompt">... </span><span class="keyword">def</span> get_text_children_and_parent_xpaths(filename_url_or_filelike, xpath_to_text=DEF_TEXT_FINDER_XPATH):
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">try</span>:
<span class="prompt">... </span>        parsed_html = html.parse(filename_url_or_filelike,
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">except</span> <span class="builtin">IOError</span> <span class="keyword">as</span> e:
<span class="prompt">... </span>        <span class="comment"># use requests as a workaround for problems in some</span>
<span class="prompt">... </span>        <span class="comment"># sites requiring cookies like nytimes.com</span>
<span class="prompt">... </span>        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor())
<span class="prompt">... </span>        response = opener.<span class="builtin">open</span>(filename_url_or_filelike).read()
<span class="prompt">... </span>
<span class="prompt">... </span>        <span class="comment"># http://lxml.de/parsing.html</span>
<span class="prompt">... </span>        parsed_html = html.parse(BytesIO(response),
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    xpath_finder = parsed_html.getroot().getroottree().getpath
<span class="prompt">... </span>
<span class="prompt">... </span>    nodes_with_text = parsed_html.xpath(xpath_to_text)
<span class="prompt">... </span>
<span class="prompt">... </span>    sent_xpath_pairs = [
<span class="prompt">... </span>        ((n.xpath(<span class="string">'.//text()'</span>).append(<span class="string">'\n'</span>),<span class="number">0</span>), xpath_finder(n))    <span class="comment"># hard-code paragraph breaks (there has to be a better way)</span>
<span class="prompt">... </span>        <span class="keyword">for</span> n <span class="keyword">in</span> nodes_with_text
<span class="prompt">... </span>        ]
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">if</span> <span class="builtin">len</span>(sent_xpath_pairs) <span class="keyword">is</span> <span class="number">0</span>:
<span class="prompt">... </span>        <span class="keyword">raise</span> <span class="builtin">Exception</span>(<span class="string">"No text nodes satisfied the xpath:\n\n"</span> +
<span class="prompt">... </span>                        xpath_to_text + <span class="string">"\n\nThis can be due to user's"</span> +
<span class="prompt">... </span>                        <span class="string">" custom xpath, min_str_length value, or both"</span>)
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">return</span> sent_xpath_pairs</span></span><span class="command">
</span></span><span class="fold-message">[About 40 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">4: </span><span class="result">[((None, 0), '/html/body/div[2]/header/div[1]/div[3]/h6'),</span></span><span class="folded"><span class="output"><span class="result">
 ((None, 0), '/html/body/div[2]/main/article/header/div/h1'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[1]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[2]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[3]'),
 ((None, 0), '/html/body/div[2]/main/article/div/figure/div/div/div/h4'),
 ((None, 0), '/html/body/div[2]/main/article/div/figure/figcaption/h4'),
 ((None, 0), '/html/body/div[2]/main/article/div/figure/figcaption/div/p'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[4]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[5]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[6]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[7]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[8]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[9]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[10]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[11]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[12]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[13]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[14]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[15]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[16]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[17]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[18]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[19]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[20]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[21]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[22]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[23]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[24]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[25]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[26]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[27]'),
 ((None, 0), '/html/body/div[2]/main/article/div/p[28]'),
 ((None, 0), '/html/body/div[2]/main/article/div/footer/div/div/p'),
 ((None, 0), '/html/body/div[2]/main/article/div/footer/div/p')]
</span></span></span><span class="fold-message">[About 34 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>x = get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#27&gt;", line 1, in &lt;module&gt;
    x = get_text_children_and_parent_xpaths(url)
  File "&lt;pyshell#25&gt;", line 21, in get_text_children_and_parent_xpaths
    response = opener.open(filename_url_or_filelike).read()
  File "c:\python27\lib\urllib2.py", line 404, in open
    response = self._open(req, data)
  File "c:\python27\lib\urllib2.py", line 422, in _open
    '_open', req)
  File "c:\python27\lib\urllib2.py", line 382, in _call_chain
    result = func(*args)
  File "c:\python27\lib\urllib2.py", line 1214, in http_open
    return self.do_open(httplib.HTTPConnection, req)
  File "c:\python27\lib\urllib2.py", line 1184, in do_open
    raise URLError(err)
URLError: &lt;urlopen error [Errno 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond&gt;
</span></span></span><span class="fold-message">[About 15 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>x = get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> re</span><span class="folded"><span class="command">
<span class="prompt">... </span><span class="keyword">import</span> urllib2
<span class="prompt">... </span><span class="keyword">from</span> collections <span class="keyword">import</span> Counter
<span class="prompt">... </span><span class="keyword">try</span>:
<span class="prompt">... </span>    <span class="keyword">from</span> cStringIO <span class="keyword">import</span> StringIO <span class="keyword">as</span> BytesIO
<span class="prompt">... </span><span class="keyword">except</span> <span class="builtin">ImportError</span>:
<span class="prompt">... </span>    <span class="keyword">from</span> io <span class="keyword">import</span> BytesIO
<span class="prompt">... </span>
<span class="prompt">... </span><span class="keyword">from</span> lxml <span class="keyword">import</span> html
<span class="prompt">... </span><span class="keyword">from</span> lxml.html.clean <span class="keyword">import</span> clean_html
<span class="prompt">... </span>
<span class="prompt">... </span><span class="keyword">def</span> get_text_children_and_parent_xpaths(filename_url_or_filelike, xpath_to_text=DEF_TEXT_FINDER_XPATH):
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">try</span>:
<span class="prompt">... </span>        parsed_html = html.parse(filename_url_or_filelike,
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">except</span> <span class="builtin">IOError</span> <span class="keyword">as</span> e:
<span class="prompt">... </span>        <span class="comment"># use requests as a workaround for problems in some</span>
<span class="prompt">... </span>        <span class="comment"># sites requiring cookies like nytimes.com</span>
<span class="prompt">... </span>        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor())
<span class="prompt">... </span>        response = opener.<span class="builtin">open</span>(filename_url_or_filelike).read()
<span class="prompt">... </span>
<span class="prompt">... </span>        <span class="comment"># http://lxml.de/parsing.html</span>
<span class="prompt">... </span>        parsed_html = html.parse(BytesIO(response),
<span class="prompt">... </span>                                 html.HTMLParser(encoding=<span class="string">"utf-8"</span>))
<span class="prompt">... </span>
<span class="prompt">... </span>    xpath_finder = parsed_html.getroot().getroottree().getpath
<span class="prompt">... </span>
<span class="prompt">... </span>    nodes_with_text = parsed_html.xpath(xpath_to_text)
<span class="prompt">... </span>
<span class="prompt">... </span>    sent_xpath_pairs = [
<span class="prompt">... </span>        ((n.xpath(<span class="string">'.//text()'</span>),<span class="number">0</span>), xpath_finder(n))    <span class="comment"># hard-code paragraph breaks (there has to be a better way)</span>
<span class="prompt">... </span>        <span class="keyword">for</span> n <span class="keyword">in</span> nodes_with_text
<span class="prompt">... </span>        ]
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">if</span> <span class="builtin">len</span>(sent_xpath_pairs) <span class="keyword">is</span> <span class="number">0</span>:
<span class="prompt">... </span>        <span class="keyword">raise</span> <span class="builtin">Exception</span>(<span class="string">"No text nodes satisfied the xpath:\n\n"</span> +
<span class="prompt">... </span>                        xpath_to_text + <span class="string">"\n\nThis can be due to user's"</span> +
<span class="prompt">... </span>                        <span class="string">" custom xpath, min_str_length value, or both"</span>)
<span class="prompt">... </span>
<span class="prompt">... </span>    <span class="keyword">return</span> sent_xpath_pairs</span></span><span class="command">
</span></span><span class="fold-message">[About 40 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>x = get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> x[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">((['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 0), '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">def</span> calculate_avg_sent_length(sents):</span><span class="folded"><span class="command">
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    total_sent_sum = <span class="number">0</span>  
<span class="prompt">... </span>    
<span class="prompt">... </span>    <span class="keyword">for</span> sent <span class="keyword">in</span> sents:
<span class="prompt">... </span>        total_sent_sum += <span class="builtin">len</span>(sent)
<span class="prompt">... </span>        
<span class="prompt">... </span>    <span class="keyword">return</span> <span class="builtin">float</span>(total_sent_sum)/<span class="builtin">len</span>(sents)
<span class="prompt">... </span>
</span></span><span class="command"><span class="prompt">... </span><span class="keyword">def</span> calculate_avg_sent_length_per_pair(sents_xpath_pairs):
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">for</span> (sents, avg), path <span class="keyword">in</span> sents_xpath_pairs:
<span class="prompt">... </span>        avg = calculate_avg_sent_length(sents)</span></span><span class="command">
</span></span><span class="fold-message">[About 10 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>calculate_avg_sent_length_per_pair(x)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>x[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">5: </span><span class="result">((['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  0),
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">((['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  0),
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="stdout">70</span></span><span class="folded"><span class="output"><span class="stdout">
57
291
359
438
24
24
22
329
157
214
121
459
332
69
357
498
287
368
415
387
419
237
199
242
158
171
277
149
180
365
157
305
138
224
</span></span></span><span class="fold-message">[About 34 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">((['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  0),
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#3&gt;", line 1, in &lt;module&gt;
    eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
  File "eatiht.py", line 260, in calculate_avg_sent_length_per_pair
    avg = calculate_avg_sent_length(pair[0][1])
  File "eatiht.py", line 252, in calculate_avg_sent_length
    for sent in sents:
TypeError: 'int' object is not iterable
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#6&gt;", line 1, in &lt;module&gt;
    eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
  File "eatiht.py", line 260, in calculate_avg_sent_length_per_pair
    pair[0][1] = calculate_avg_sent_length(pair[0][0])
  File "eatiht.py", line 252, in calculate_avg_sent_length
    for sent in sents:
TypeError: 'int' object is not iterable
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#1&gt;", line 1, in &lt;module&gt;
    tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
NameError: name 'eatiht' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="stdout">70</span></span><span class="folded"><span class="output"><span class="stdout">
</span><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#6&gt;", line 3, in &lt;module&gt;
    eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
  File "eatiht.py", line 260, in calculate_avg_sent_length_per_pair
    pair[0][1] = calculate_avg_sent_length(pair[0][0])
TypeError: 'tuple' object does not support item assignment
</span></span></span><span class="fold-message">[About 6 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>t = (<span class="number">0</span>,<span class="string">'a'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>t[<span class="number">0</span>] = <span class="number">1</span>
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#8&gt;", line 1, in &lt;module&gt;
    t[0] = 1
TypeError: 'tuple' object does not support item assignment
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_avg_sent_length_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="stdout">70</span></span><span class="folded"><span class="output"><span class="stdout">
57
291
359
438
24
24
22
329
157
214
121
459
332
69
357
498
287
368
415
387
419
237
199
242
158
171
277
149
180
365
157
305
138
224
</span></span></span><span class="fold-message">[About 34 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">([['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  23.333333333333332],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> tnodes_pars:
<span class="prompt">... </span>    <span class="keyword">print</span> i
</span><span class="commandsep"></span><span class="output"><span class="stdout">([['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on So</span></span><span class="folded"><span class="output"><span class="stdout">ny'], 23.333333333333332], '/html/body/div[2]/header/div[1]/div[3]/h6')
([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 57.0], '/html/body/div[2]/main/article/header/div/h1')
([[u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], 58.2], '/html/body/div[2]/main/article/div/p[1]')
([['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], 71.8], '/html/body/div[2]/main/article/div/p[2]')
([[u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 438.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'Trailer: \u2018The Interview\u2019'], 24.0], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([[u'Trailer: \u2018The Interview\u2019'], 24.0], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
([['A preview of the film.'], 22.0], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
([['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], 109.66666666666667], '/html/body/div[2]/main/article/div/p[4]')
([[u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], 157.0], '/html/body/div[2]/main/article/div/p[5]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 214.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], 121.0], '/html/body/div[2]/main/article/div/p[7]')
([[u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], 65.57142857142857], '/html/body/div[2]/main/article/div/p[8]')
([['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], 110.66666666666667], '/html/body/div[2]/main/article/div/p[9]')
([[u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], 69.0], '/html/body/div[2]/main/article/div/p[10]')
([[u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], 71.4], '/html/body/div[2]/main/article/div/p[11]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 498.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 287.0], '/html/body/div[2]/main/article/div/p[13]')
([['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], 122.66666666666667], '/html/body/div[2]/main/article/div/p[14]')
([[u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], 83.0], '/html/body/div[2]/main/article/div/p[15]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 387.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 419.0], '/html/body/div[2]/main/article/div/p[17]')
([['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], 47.4], '/html/body/div[2]/main/article/div/p[18]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 199.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 242.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], 158.0], '/html/body/div[2]/main/article/div/p[21]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 171.0], '/html/body/div[2]/main/article/div/p[22]')
([['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], 39.57142857142857], '/html/body/div[2]/main/article/div/p[23]')
([['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], 149.0], '/html/body/div[2]/main/article/div/p[24]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 180.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 365.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], 157.0], '/html/body/div[2]/main/article/div/p[27]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 305.0], '/html/body/div[2]/main/article/div/p[28]')
([['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], 138.0], '/html/body/div[2]/main/article/div/footer/div/div/p')
([['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], 18.666666666666668], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 140 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#1&gt;", line 1, in &lt;module&gt;
    import eatiht
  File "eatiht.py", line 249, in &lt;module&gt;
    def calculate_avg_tnode_strlen(tnodes, dbg=false):
NameError: name 'false' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#3&gt;", line 3, in &lt;module&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars)
  File "eatiht.py", line 261, in calculate_tnode_freq_and_avg_tnode_strlen_per_pair
    pair[0][1] = calculate_avg_sent_length(pair[0][0])
NameError: global name 'calculate_avg_sent_length' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#5&gt;", line 3, in &lt;module&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars)
  File "eatiht.py", line 261, in calculate_tnode_freq_and_avg_tnode_strlen_per_pair
    pair[0][1] = len(pair[0][0])
NameError: global name 'calculate_avg_sent_length' is not defined
</span></span></span><span class="fold-message">[About 5 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">([['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  3.0],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">2</span>
<span class="prompt">... </span>            ]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">([[u'WASHINGTON \u2014  American officials have concluded that ',
   'North Korea',
   u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ',
   'canceled the release',
   u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'],
  5,
  5.0],
 '/html/body/div[2]/main/article/div/p[1]')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">([['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  3.0],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="builtin">True</span>
<span class="prompt">... </span>                                                          )
</span><span class="commandsep"></span><span class="output"><span class="stdout">([['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on So</span></span><span class="folded"><span class="output"><span class="stdout">ny'], 3, 3.0], '/html/body/div[2]/header/div[1]/div[3]/h6')
([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 1.0], '/html/body/div[2]/main/article/header/div/h1')
([[u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], 5, 5.0], '/html/body/div[2]/main/article/div/p[1]')
([['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], 5, 5.0], '/html/body/div[2]/main/article/div/p[2]')
([[u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'Trailer: \u2018The Interview\u2019'], 1, 1.0], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([[u'Trailer: \u2018The Interview\u2019'], 1, 1.0], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
([['A preview of the film.'], 1, 1.0], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
([['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], 3, 3.0], '/html/body/div[2]/main/article/div/p[4]')
([[u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[5]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[7]')
([[u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], 7, 7.0], '/html/body/div[2]/main/article/div/p[8]')
([['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], 3, 3.0], '/html/body/div[2]/main/article/div/p[9]')
([[u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[10]')
([[u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], 5, 5.0], '/html/body/div[2]/main/article/div/p[11]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[13]')
([['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], 3, 3.0], '/html/body/div[2]/main/article/div/p[14]')
([[u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], 5, 5.0], '/html/body/div[2]/main/article/div/p[15]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[17]')
([['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], 5, 5.0], '/html/body/div[2]/main/article/div/p[18]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[21]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[22]')
([['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], 7, 7.0], '/html/body/div[2]/main/article/div/p[23]')
([['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[24]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[27]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[28]')
([['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], 1, 1.0], '/html/body/div[2]/main/article/div/footer/div/div/p')
([['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], 12, 12.0], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 139 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="builtin">True</span>
<span class="prompt">... </span>                                                          )
</span><span class="commandsep"></span><span class="output"><span class="stdout">([['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on So</span></span><span class="folded"><span class="output"><span class="stdout">ny'], 3, 23.333333333333332], '/html/body/div[2]/header/div[1]/div[3]/h6')
([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 57.0], '/html/body/div[2]/main/article/header/div/h1')
([[u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], 5, 58.2], '/html/body/div[2]/main/article/div/p[1]')
([['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], 5, 71.8], '/html/body/div[2]/main/article/div/p[2]')
([[u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 438.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
([['A preview of the film.'], 1, 22.0], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
([['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], 3, 109.66666666666667], '/html/body/div[2]/main/article/div/p[4]')
([[u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], 1, 157.0], '/html/body/div[2]/main/article/div/p[5]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 214.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], 1, 121.0], '/html/body/div[2]/main/article/div/p[7]')
([[u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], 7, 65.57142857142857], '/html/body/div[2]/main/article/div/p[8]')
([['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], 3, 110.66666666666667], '/html/body/div[2]/main/article/div/p[9]')
([[u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], 1, 69.0], '/html/body/div[2]/main/article/div/p[10]')
([[u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], 5, 71.4], '/html/body/div[2]/main/article/div/p[11]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 498.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 287.0], '/html/body/div[2]/main/article/div/p[13]')
([['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], 3, 122.66666666666667], '/html/body/div[2]/main/article/div/p[14]')
([[u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], 5, 83.0], '/html/body/div[2]/main/article/div/p[15]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 387.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 419.0], '/html/body/div[2]/main/article/div/p[17]')
([['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], 5, 47.4], '/html/body/div[2]/main/article/div/p[18]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 199.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 242.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], 1, 158.0], '/html/body/div[2]/main/article/div/p[21]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 171.0], '/html/body/div[2]/main/article/div/p[22]')
([['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], 7, 39.57142857142857], '/html/body/div[2]/main/article/div/p[23]')
([['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], 1, 149.0], '/html/body/div[2]/main/article/div/p[24]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 180.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 365.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], 1, 157.0], '/html/body/div[2]/main/article/div/p[27]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 305.0], '/html/body/div[2]/main/article/div/p[28]')
([['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], 1, 138.0], '/html/body/div[2]/main/article/div/footer/div/div/p')
([['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], 12, 18.666666666666668], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 141 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">([['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  23.333333333333332],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="builtin">True</span>
<span class="prompt">... </span>                                                          )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#1&gt;", line 3, in &lt;module&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,True
  File "eatiht.py", line 263, in calculate_tnode_freq_and_avg_tnode_strlen_per_pair
    pair[0][2] = calculate_avg_tnode_strlen(pair[0][0])
TypeError: calculate_avg_tnode_strlen() takes at least 2 arguments (1 given)
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">0</span>][<span class="number">2</span>], <span class="builtin">True</span>)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#2&gt;", line 1, in &lt;module&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars, lambda x: x[0][2], True)
TypeError: calculate_tnode_freq_and_avg_tnode_strlen_per_pair() takes at most 2 arguments (3 given)
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">0</span>][<span class="number">2</span>]
<span class="prompt">... </span>                                                          )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#3&gt;", line 1, in &lt;module&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars, lambda x: x[0][2]
  File "eatiht.py", line 263, in calculate_tnode_freq_and_avg_tnode_strlen_per_pair
    pair[0][2] = calculate_avg_tnode_strlen(pair[0][0])
TypeError: calculate_avg_tnode_strlen() takes at least 2 arguments (1 given)
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="builtin">True</span>
<span class="prompt">... </span>                                                          )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#1&gt;", line 3, in &lt;module&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,True
  File "eatiht.py", line 264, in calculate_tnode_freq_and_avg_tnode_strlen_per_pair
    pair[0][2] = calculate_avg_tnode_strlen(pair[0][0], func)
  File "eatiht.py", line 254, in calculate_avg_tnode_strlen
    total_sent_sum += len(func(sent))
TypeError: 'bool' object is not callable
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="keyword">lambda</span> x: x[<span class="number">0</span>][<span class="number">2</span>],<span class="builtin">True</span>
<span class="prompt">... </span>                                                          )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#2&gt;", line 3, in &lt;module&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,lambda x: x[0][2],True
  File "eatiht.py", line 264, in calculate_tnode_freq_and_avg_tnode_strlen_per_pair
    pair[0][2] = calculate_avg_tnode_strlen(pair[0][0], func)
  File "eatiht.py", line 254, in calculate_avg_tnode_strlen
    total_sent_sum += len(func(sent))
  File "&lt;pyshell#2&gt;", line 3, in &lt;lambda&gt;
    eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,lambda x: x[0][2],True
IndexError: string index out of range
</span></span></span><span class="fold-message">[About 9 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="keyword">lambda</span> x: x[<span class="number">0</span>],<span class="builtin">True</span>
<span class="prompt">... </span>                                                          )
</span><span class="commandsep"></span><span class="output"><span class="stdout">([['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on So</span></span><span class="folded"><span class="output"><span class="stdout">ny'], 3, 1.0], '/html/body/div[2]/header/div[1]/div[3]/h6')
([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 1.0], '/html/body/div[2]/main/article/header/div/h1')
([[u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], 5, 1.0], '/html/body/div[2]/main/article/div/p[1]')
([['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], 5, 1.0], '/html/body/div[2]/main/article/div/p[2]')
([[u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'Trailer: \u2018The Interview\u2019'], 1, 1.0], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([[u'Trailer: \u2018The Interview\u2019'], 1, 1.0], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
([['A preview of the film.'], 1, 1.0], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
([['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], 3, 1.0], '/html/body/div[2]/main/article/div/p[4]')
([[u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[5]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[7]')
([[u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], 7, 1.0], '/html/body/div[2]/main/article/div/p[8]')
([['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], 3, 1.0], '/html/body/div[2]/main/article/div/p[9]')
([[u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[10]')
([[u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], 5, 1.0], '/html/body/div[2]/main/article/div/p[11]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[13]')
([['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], 3, 1.0], '/html/body/div[2]/main/article/div/p[14]')
([[u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], 5, 1.0], '/html/body/div[2]/main/article/div/p[15]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[17]')
([['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], 5, 1.0], '/html/body/div[2]/main/article/div/p[18]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[21]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[22]')
([['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], 7, 1.0], '/html/body/div[2]/main/article/div/p[23]')
([['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[24]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], 1, 1.0], '/html/body/div[2]/main/article/div/p[27]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 1.0], '/html/body/div[2]/main/article/div/p[28]')
([['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], 1, 1.0], '/html/body/div[2]/main/article/div/footer/div/div/p')
([['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], 12, 1.0], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 139 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">([['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  1.0],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[:<span class="number">2</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">[([['Asia Pacific',</span></span><span class="folded"><span class="output"><span class="result">
    '|',
    'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
   3,
   1.0],
  '/html/body/div[2]/header/div[1]/div[3]/h6'),
 ([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 1.0],
  '/html/body/div[2]/main/article/header/div/h1')]
</span></span></span><span class="fold-message">[About 7 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[:<span class="number">3</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">2: </span><span class="result">[([['Asia Pacific',</span></span><span class="folded"><span class="output"><span class="result">
    '|',
    'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
   3,
   1.0],
  '/html/body/div[2]/header/div[1]/div[3]/h6'),
 ([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 1.0],
  '/html/body/div[2]/main/article/header/div/h1'),
 ([[u'WASHINGTON \u2014  American officials have concluded that ',
    'North Korea',
    u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ',
    'canceled the release',
    u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'],
   5,
   1.0],
  '/html/body/div[2]/main/article/div/p[1]')]
</span></span></span><span class="fold-message">[About 15 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="keyword">lambda</span> x: x,<span class="builtin">True</span>)
</span><span class="commandsep"></span><span class="output"><span class="stdout">([['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on So</span></span><span class="folded"><span class="output"><span class="stdout">ny'], 3, 23.333333333333332], '/html/body/div[2]/header/div[1]/div[3]/h6')
([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 57.0], '/html/body/div[2]/main/article/header/div/h1')
([[u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], 5, 58.2], '/html/body/div[2]/main/article/div/p[1]')
([['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], 5, 71.8], '/html/body/div[2]/main/article/div/p[2]')
([[u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 438.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
([['A preview of the film.'], 1, 22.0], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
([['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], 3, 109.66666666666667], '/html/body/div[2]/main/article/div/p[4]')
([[u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], 1, 157.0], '/html/body/div[2]/main/article/div/p[5]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 214.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], 1, 121.0], '/html/body/div[2]/main/article/div/p[7]')
([[u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], 7, 65.57142857142857], '/html/body/div[2]/main/article/div/p[8]')
([['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], 3, 110.66666666666667], '/html/body/div[2]/main/article/div/p[9]')
([[u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], 1, 69.0], '/html/body/div[2]/main/article/div/p[10]')
([[u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], 5, 71.4], '/html/body/div[2]/main/article/div/p[11]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 498.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 287.0], '/html/body/div[2]/main/article/div/p[13]')
([['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], 3, 122.66666666666667], '/html/body/div[2]/main/article/div/p[14]')
([[u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], 5, 83.0], '/html/body/div[2]/main/article/div/p[15]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 387.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 419.0], '/html/body/div[2]/main/article/div/p[17]')
([['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], 5, 47.4], '/html/body/div[2]/main/article/div/p[18]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 199.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 242.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], 1, 158.0], '/html/body/div[2]/main/article/div/p[21]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 171.0], '/html/body/div[2]/main/article/div/p[22]')
([['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], 7, 39.57142857142857], '/html/body/div[2]/main/article/div/p[23]')
([['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], 1, 149.0], '/html/body/div[2]/main/article/div/p[24]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 180.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 365.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], 1, 157.0], '/html/body/div[2]/main/article/div/p[27]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 305.0], '/html/body/div[2]/main/article/div/p[28]')
([['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], 1, 138.0], '/html/body/div[2]/main/article/div/footer/div/div/p')
([['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], 12, 18.666666666666668], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 141 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">3: </span><span class="result">([['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  23.333333333333332],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">2</span>
<span class="prompt">... </span>            
<span class="prompt">... </span>            ]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">4: </span><span class="result">([[u'WASHINGTON \u2014  American officials have concluded that ',
   'North Korea',
   u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ',
   'canceled the release',
   u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'],
  5,
  58.2],
 '/html/body/div[2]/main/article/div/p[1]')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="keyword">lambda</span> x: x,<span class="builtin">True</span>)
</span><span class="commandsep"></span><span class="output"><span class="stdout">([['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on So</span></span><span class="folded"><span class="output"><span class="stdout">ny'], 3, 23.333333333333332], '/html/body/div[2]/header/div[1]/div[3]/h6')
([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 57.0], '/html/body/div[2]/main/article/header/div/h1')
([[u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], 5, 58.2], '/html/body/div[2]/main/article/div/p[1]')
([['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], 5, 71.8], '/html/body/div[2]/main/article/div/p[2]')
([[u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 438.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
([['A preview of the film.'], 1, 22.0], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
([['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], 3, 109.66666666666667], '/html/body/div[2]/main/article/div/p[4]')
([[u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], 1, 157.0], '/html/body/div[2]/main/article/div/p[5]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 214.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], 1, 121.0], '/html/body/div[2]/main/article/div/p[7]')
([[u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], 7, 65.57142857142857], '/html/body/div[2]/main/article/div/p[8]')
([['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], 3, 110.66666666666667], '/html/body/div[2]/main/article/div/p[9]')
([[u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], 1, 69.0], '/html/body/div[2]/main/article/div/p[10]')
([[u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], 5, 71.4], '/html/body/div[2]/main/article/div/p[11]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 498.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 287.0], '/html/body/div[2]/main/article/div/p[13]')
([['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], 3, 122.66666666666667], '/html/body/div[2]/main/article/div/p[14]')
([[u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], 5, 83.0], '/html/body/div[2]/main/article/div/p[15]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 387.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 419.0], '/html/body/div[2]/main/article/div/p[17]')
([['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], 5, 47.4], '/html/body/div[2]/main/article/div/p[18]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 199.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 242.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], 1, 158.0], '/html/body/div[2]/main/article/div/p[21]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 171.0], '/html/body/div[2]/main/article/div/p[22]')
([['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], 7, 39.57142857142857], '/html/body/div[2]/main/article/div/p[23]')
([['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], 1, 149.0], '/html/body/div[2]/main/article/div/p[24]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 180.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 365.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], 1, 157.0], '/html/body/div[2]/main/article/div/p[27]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 305.0], '/html/body/div[2]/main/article/div/p[28]')
([['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], 1, 138.0], '/html/body/div[2]/main/article/div/footer/div/div/p')
([['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], 12, 18.666666666666668], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 141 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>x = eatiht.calculate_avg(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">0</span>][<span class="number">2</span>])
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#2&gt;", line 1, in &lt;module&gt;
    x = eatiht.calculate_avg(tnodes_pars, lambda x: x[0][2])
  File "eatiht.py", line 253, in calculate_avg
    total += len(func(pea))
TypeError: object of type 'float' has no len()
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
<span class="prompt">... </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
<span class="prompt">... </span>eatiht.calculate_tnode_freq_and_avg_tnode_strlen_per_pair(tnodes_pars,<span class="keyword">lambda</span> x: x,<span class="builtin">True</span>)
</span><span class="commandsep"></span><span class="output"><span class="stdout">([['Asia Pacific', '|', 'U.S. Said to Find North Korea Ordered Cyberattack on So</span></span><span class="folded"><span class="output"><span class="stdout">ny'], 3, 23.333333333333332], '/html/body/div[2]/header/div[1]/div[3]/h6')
([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 57.0], '/html/body/div[2]/main/article/header/div/h1')
([[u'WASHINGTON \u2014  American officials have concluded that ', 'North Korea', u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ', 'canceled the release', u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'], 5, 58.2], '/html/body/div[2]/main/article/div/p[1]')
([['Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse ', 'North Korea', ' of what amounts to a cyberterrorism attack. Sony capitulated after the hackers ', 'threatened additional attacks', u', perhaps on theaters themselves, if the movie, \u201cThe Interview,\u201d was released.'], 5, 71.8], '/html/body/div[2]/main/article/div/p[2]')
([[u'Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 438.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/div/div/div/h4')
([[u'Trailer: \u2018The Interview\u2019'], 1, 24.0], '/html/body/div[2]/main/article/div/figure/figcaption/h4')
([['A preview of the film.'], 1, 22.0], '/html/body/div[2]/main/article/div/figure/figcaption/div/p')
([['Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with ', 'delicate diplomatic negotiations', ' for the return of Japanese citizens kidnapped years ago.'], 3, 109.66666666666667], '/html/body/div[2]/main/article/div/p[4]')
([[u'The government is \u201cconsidering a range of options in weighing a potential response,\u201d said Bernadette Meehan, a spokeswoman for the National Security Council.'], 1, 157.0], '/html/body/div[2]/main/article/div/p[5]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 214.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'\u201cRemember the 11th of September 2001,\u201d it said. \u201cWe recommend you to keep yourself distant from the places at that time.\u201d'], 1, 121.0], '/html/body/div[2]/main/article/div/p[7]')
([[u'Hours before Sony canceled the movie, the four largest theater chains in the United States \u2014 ', 'Regal Entertainment', ', AMC Entertainment, ', 'Cinemark', ' and ', 'Carmike Cinemas', u' \u2014 and several smaller chains said they would not show \u201cThe Interview\u201d as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.'], 7, 65.57142857142857], '/html/body/div[2]/main/article/div/p[8]')
([['While intelligence officials have concluded that the ', 'cyberattack', u' was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company\u2019s computer systems, senior administration officials said.'], 3, 110.66666666666667], '/html/body/div[2]/main/article/div/p[9]')
([[u'\u201cThis is of a different nature than past attacks,\u201d one official said.'], 1, 69.0], '/html/body/div[2]/main/article/div/p[10]')
([[u'An attack that began by wiping out data on corporate computers \u2014 something that had been previously seen in ', 'South Korea', ' and ', 'Saudi Arabia', u' \u2014 had turned \u201cinto a threat to the safety of Americans,\u201d the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.'], 5, 71.4], '/html/body/div[2]/main/article/div/p[11]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 498.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 287.0], '/html/body/div[2]/main/article/div/p[13]')
([['It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or ', u'JPMorgan Chase\u2019s systems', ' last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.'], 3, 122.66666666666667], '/html/body/div[2]/main/article/div/p[14]')
([[u'But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony\u2019s machines. They also borrowed tools and techniques that had been used in at least two previous attacks, ', 'one in Saudi Arabia', u' two years ago \u2014 widely attributed to Iran \u2014 and another ', 'last year in South Korea', ' aimed at banks and media companies.'], 5, 83.0], '/html/body/div[2]/main/article/div/p[15]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 387.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 419.0], '/html/body/div[2]/main/article/div/p[17]')
([['The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on ', u'30,000 of the company\u2019s computers', ', replacing it with ', 'an image of a burning American flag', '.'], 5, 47.4], '/html/body/div[2]/main/article/div/p[18]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 199.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 242.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'\u201cIt\u2019s clear that they already had access to Sony\u2019s network before the attack,\u201d said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.'], 1, 158.0], '/html/body/div[2]/main/article/div/p[21]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 171.0], '/html/body/div[2]/main/article/div/p[22]')
([['Many attacks have been aimed at stealing credit card data, like the intrusions on the ', 'Home Depot', ' and ', 'Target', u' networks \u2014 and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that ', u'targeted Iran\u2019s nuclear program', ' was a rare attack on infrastructure.'], 7, 39.57142857142857], '/html/body/div[2]/main/article/div/p[23]')
([['Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.'], 1, 149.0], '/html/body/div[2]/main/article/div/p[24]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 180.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 365.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the \u201crighteous deed of supporters and sympathizers.\u201d'], 1, 157.0], '/html/body/div[2]/main/article/div/p[27]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 305.0], '/html/body/div[2]/main/article/div/p[28]')
([['David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.\n '], 1, 138.0], '/html/body/div[2]/main/article/div/footer/div/div/p')
([['A version of this article appears in print on December 18, 2014, on page A1 of the ', 'New York edition', ' with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony. ', '  ', 'Order Reprints', '|', '  ', "Today's Paper", '|', 'Subscribe', '\n', '\n'], 12, 18.666666666666668], '/html/body/div[2]/main/article/div/footer/div/p')
</span></span></span><span class="fold-message">[About 141 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>avg_avg_strlen = eatiht.calculate_avg(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">0</span>][<span class="number">2</span>])
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>avg_avg_strlen
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">160.0840816326531
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>first_pass = [ tnodes_par_path <span class="keyword">for</span> tnodes_par_path <span class="keyword">in</span> tnodes_pars <span class="keyword">if</span> tnodes_par_path[<span class="number">2</span>] &gt; avg_avg_strlen ]
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#4&gt;", line 1, in &lt;module&gt;
    first_pass = [ tnodes_par_path for tnodes_par_path in tnodes_pars if tnodes_par_path[2] &gt; avg_avg_strlen ]
IndexError: tuple index out of range
</span></span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>][<span class="number">2</span>]
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#5&gt;", line 1, in &lt;module&gt;
    tnodes_pars[0][2]
IndexError: tuple index out of range
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">([['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  23.333333333333332],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>first_pass = [ tnodes_par_path <span class="keyword">for</span> tnodes_par_path <span class="keyword">in</span> tnodes_pars <span class="keyword">if</span> tnodes_par_path[<span class="number">0</span>][<span class="number">2</span>] &gt; avg_avg_strlen ]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">2: </span><span class="result">35
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(first_pass)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">3: </span><span class="result">12
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> first_pass:
<span class="prompt">... </span>    <span class="keyword">print</span> i
</span><span class="commandsep"></span><span class="output"><span class="stdout">([[u'Officials said it was not clear how the White House would respond. Some wit</span></span><span class="folded"><span class="output"><span class="stdout">hin the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 438.0], '/html/body/div[2]/main/article/div/p[3]')
([[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 214.0], '/html/body/div[2]/main/article/div/p[6]')
([[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 498.0], '/html/body/div[2]/main/article/div/p[12]')
([[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 287.0], '/html/body/div[2]/main/article/div/p[13]')
([['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 387.0], '/html/body/div[2]/main/article/div/p[16]')
([['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 419.0], '/html/body/div[2]/main/article/div/p[17]')
([['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 199.0], '/html/body/div[2]/main/article/div/p[19]')
([[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 242.0], '/html/body/div[2]/main/article/div/p[20]')
([[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 171.0], '/html/body/div[2]/main/article/div/p[22]')
([['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 180.0], '/html/body/div[2]/main/article/div/p[25]')
([[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 365.0], '/html/body/div[2]/main/article/div/p[26]')
([[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 305.0], '/html/body/div[2]/main/article/div/p[28]')
</span></span></span><span class="fold-message">[About 56 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> first_pass:
<span class="prompt">... </span>    <span class="keyword">print</span> i[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">[[u'Officials said it was not clear how the White House would respond. Some with</span></span><span class="folded"><span class="output"><span class="stdout">in the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.'], 1, 438.0]
[[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d'], 1, 214.0]
[[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.'], 1, 498.0]
[[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d'], 1, 287.0]
[['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.'], 1, 387.0]
[['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.'], 1, 419.0]
[['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.'], 1, 199.0]
[[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.'], 1, 242.0]
[[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.'], 1, 171.0]
[['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.'], 1, 180.0]
[[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.'], 1, 365.0]
[[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.'], 1, 305.0]
</span></span></span><span class="fold-message">[About 49 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> first_pass:
<span class="prompt">... </span>    <span class="keyword">print</span> i[<span class="number">0</span>][<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">[u'Officials said it was not clear how the White House would respond. Some withi</span></span><span class="folded"><span class="output"><span class="stdout">n the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea\u2019s culpability, including the possible penetration of the North\u2019s computer networks.']
[u'The administration\u2019s sudden urgency came after a new threat was delivered this week to desktop computers at Sony\u2019s offices, warning that if \u201cThe Interview\u201d was released on Dec. 25, \u201cthe world will be full of fear.\u201d']
[u'It is not clear how the United States determined that Mr. Kim\u2019s government had played a central role in the Sony attacks. North Korea\u2019s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country\u2019s computer operations, including its elite cyberteam, and to establish \u201cimplants\u201d in the country\u2019s networks that, like a radar system, would monitor the development of malware transmitted from the country.']
[u'It is hardly a foolproof system. Much of North Korea\u2019s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, \u201cthis was of a sophistication that a year ago we would have said was beyond the North\u2019s capabilities.\u201d']
['The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.']
['The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.']
['Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.']
[u'At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony\u2019s network.']
[u'What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood\u2019s largest studios and Japan\u2019s most famous companies to surrender.']
['But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.']
[u'The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony\u2019s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had \u201ccreated a backdoor to Sony\u2019s systems\u201d that they repeatedly re-entered to send threatening messages to Sony employees.']
[u'But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country\u2019s cyberarsenal for fear of retaliation.']
</span></span></span><span class="fold-message">[About 47 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="builtin">filter</span>(pod, func):</span><span class="folded"><span class="command">
</span><span class="command-defs"><span class="command"><span class="prompt">... </span>    <span class="keyword">for</span> pea <span class="keyword">in</span> pod:
<span class="prompt">... </span>        <span class="keyword">if</span> func(pea):
<span class="prompt">... </span>            <span class="keyword">yield</span> pea</span></span><span class="command">
</span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">4: </span><span class="result">35
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( <span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> tnode: <span class="builtin">sum</span>([ <span class="builtin">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> tnode[<span class="number">0</span>] ]) &gt; avg_avg_strlen))
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#15&gt;", line 1, in &lt;module&gt;
    filtered = list( filter(tnodes_pars, lambda tnode: sum([ len(s) for s in tnode[0] ]) &gt; avg_avg_strlen))
  File "&lt;pyshell#13&gt;", line 3, in filter
    if func(pea):
  File "&lt;pyshell#15&gt;", line 1, in &lt;lambda&gt;
    filtered = list( filter(tnodes_pars, lambda tnode: sum([ len(s) for s in tnode[0] ]) &gt; avg_avg_strlen))
TypeError: object of type 'int' has no len()
</span></span></span><span class="fold-message">[About 7 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( <span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> tnode: <span class="builtin">sum</span>([ <span class="builtin">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> tnode ]) &gt; avg_avg_strlen))
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">5: </span><span class="result">0
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( <span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> x,y,z: <span class="builtin">True</span> ) )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#18&gt;", line 1, in &lt;module&gt;
    filtered = list( filter(tnodes_pars, lambda x,y,z: True ) )
  File "&lt;pyshell#13&gt;", line 3, in filter
    if func(pea):
TypeError: &lt;lambda&gt;() takes exactly 3 arguments (1 given)
</span></span></span><span class="fold-message">[About 5 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">sum</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>
<span class="prompt">... </span>    )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#19&gt;", line 1, in &lt;module&gt;
    sum(1,2,3
TypeError: sum expected at most 2 arguments, got 3
</span></span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">sum</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]
<span class="prompt">... </span>    )
</span><span class="commandsep"></span><span class="output"><span class="result-ind">6: </span><span class="result">6
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">7: </span><span class="result">([['Asia Pacific',</span></span><span class="folded"><span class="output"><span class="result">
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  23.333333333333332],
 '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span></span><span class="fold-message">[About 5 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>][<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">8: </span><span class="result">[['Asia Pacific',</span></span><span class="folded"><span class="output"><span class="result">
  '|',
  'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
 3,
 23.333333333333332]
</span></span></span><span class="fold-message">[About 4 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">1</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">9: </span><span class="result">([['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 57.0],</span></span><span class="folded"><span class="output"><span class="result">
 '/html/body/div[2]/main/article/header/div/h1')
</span></span></span><span class="fold-message">[About 1 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>][<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">10: </span><span class="result">[['Asia Pacific',
  '|',
  'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
 3,
 23.333333333333332]
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">11: </span><span class="result">['Asia Pacific',
 '|',
 'U.S. Said to Find North Korea Ordered Cyberattack on Sony']
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">sum</span>( [ <span class="builtin">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> tnodes_pars[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] ] )
</span><span class="commandsep"></span><span class="output"><span class="result-ind">12: </span><span class="result">70
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="number">70</span>/<span class="number">3</span>
</span><span class="commandsep"></span><span class="output"><span class="result-ind">13: </span><span class="result">23
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( <span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> tnode: <span class="builtin">sum</span>([ <span class="builtin">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> tnode[<span class="number">0</span>][<span class="number">0</span>] ]) &gt; avg_avg_strlen))
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">14: </span><span class="result">23
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">15: </span><span class="result">35
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">16: </span><span class="result">23
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered_by_total_strlen = filtered
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered_by_avg_strlen = <span class="builtin">list</span>( <span class="builtin">filter</span>( tnodes_pars, <span class="keyword">lambda</span> trip: trip[<span class="number">2</span>] ) )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#33&gt;", line 1, in &lt;module&gt;
    filtered_by_avg_strlen = list( filter( tnodes_pars, lambda trip: trip[2] ) )
  File "&lt;pyshell#13&gt;", line 3, in filter
    if func(pea):
  File "&lt;pyshell#33&gt;", line 1, in &lt;lambda&gt;
    filtered_by_avg_strlen = list( filter( tnodes_pars, lambda trip: trip[2] ) )
IndexError: tuple index out of range
</span></span></span><span class="fold-message">[About 7 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered_by_avg_strlen = <span class="builtin">list</span>( <span class="builtin">filter</span>( tnodes_pars, <span class="keyword">lambda</span> trip: trip ) )
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered_by_avg_strlen = <span class="builtin">list</span>( <span class="builtin">filter</span>( tnodes_pars, <span class="keyword">lambda</span> trip: trip[<span class="number">2</span>] &gt; avg_avg_strlen ) )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#35&gt;", line 1, in &lt;module&gt;
    filtered_by_avg_strlen = list( filter( tnodes_pars, lambda trip: trip[2] &gt; avg_avg_strlen ) )
  File "&lt;pyshell#13&gt;", line 3, in filter
    if func(pea):
  File "&lt;pyshell#35&gt;", line 1, in &lt;lambda&gt;
    filtered_by_avg_strlen = list( filter( tnodes_pars, lambda trip: trip[2] &gt; avg_avg_strlen ) )
IndexError: tuple index out of range
</span></span></span><span class="fold-message">[About 7 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered_by_avg_strlen = <span class="builtin">list</span>( <span class="builtin">filter</span>( tnodes_pars, <span class="keyword">lambda</span> trip: trip[<span class="number">0</span>][<span class="number">2</span>] &gt; avg_avg_strlen ) )
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered_by_avg_strlen)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">17: </span><span class="result">12
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>base = eatiht.get_sentence_xpath_tuples(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(base)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">18: </span><span class="result">58
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>histogram = eatiht.get_xpath_frequency_distribution(base)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#40&gt;", line 1, in &lt;module&gt;
    histogram = eatiht.get_xpath_frequency_distribution(base)
  File "eatiht.py", line 125, in get_xpath_frequency_distribution
    splitpaths = [p.split('/') for p in paths]
AttributeError: 'tuple' object has no attribute 'split'
</span></span></span><span class="fold-message">[About 5 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>base[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">19: </span><span class="result">('\n\nAsia Pacific|U.S.', '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>xpaths = [x <span class="keyword">for</span> (s, x) <span class="keyword">in</span> sent_xpath_pairs]
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#42&gt;", line 1, in &lt;module&gt;
    xpaths = [x for (s, x) in sent_xpath_pairs]
NameError: name 'sent_xpath_pairs' is not defined
</span></span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>xpaths = [x <span class="keyword">for</span> (s, x) <span class="keyword">in</span> base]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>xpaths
</span><span class="commandsep"></span><span class="output"><span class="result-ind">20: </span><span class="result">['/html/body/div[2]/header/div[1]/div[3]/h6',</span></span><span class="folded"><span class="output"><span class="result">
 '/html/body/div[2]/main/article/header/div/h1',
 '/html/body/div[2]/main/article/div/p[1]',
 '/html/body/div[2]/main/article/div/p[2]',
 '/html/body/div[2]/main/article/div/p[2]',
 '/html/body/div[2]/main/article/div/p[3]',
 '/html/body/div[2]/main/article/div/p[3]',
 '/html/body/div[2]/main/article/div/p[3]',
 '/html/body/div[2]/main/article/div/figure/figcaption/div/p',
 '/html/body/div[2]/main/article/div/p[4]',
 '/html/body/div[2]/main/article/div/p[4]',
 '/html/body/div[2]/main/article/div/p[5]',
 '/html/body/div[2]/main/article/div/p[6]',
 '/html/body/div[2]/main/article/div/p[7]',
 '/html/body/div[2]/main/article/div/p[8]',
 '/html/body/div[2]/main/article/div/p[8]',
 '/html/body/div[2]/main/article/div/p[9]',
 '/html/body/div[2]/main/article/div/p[10]',
 '/html/body/div[2]/main/article/div/p[11]',
 '/html/body/div[2]/main/article/div/p[11]',
 '/html/body/div[2]/main/article/div/p[12]',
 '/html/body/div[2]/main/article/div/p[12]',
 '/html/body/div[2]/main/article/div/p[12]',
 '/html/body/div[2]/main/article/div/p[13]',
 '/html/body/div[2]/main/article/div/p[13]',
 '/html/body/div[2]/main/article/div/p[14]',
 '/html/body/div[2]/main/article/div/p[14]',
 '/html/body/div[2]/main/article/div/p[14]',
 '/html/body/div[2]/main/article/div/p[15]',
 '/html/body/div[2]/main/article/div/p[15]',
 '/html/body/div[2]/main/article/div/p[15]',
 '/html/body/div[2]/main/article/div/p[16]',
 '/html/body/div[2]/main/article/div/p[16]',
 '/html/body/div[2]/main/article/div/p[16]',
 '/html/body/div[2]/main/article/div/p[17]',
 '/html/body/div[2]/main/article/div/p[17]',
 '/html/body/div[2]/main/article/div/p[17]',
 '/html/body/div[2]/main/article/div/p[18]',
 '/html/body/div[2]/main/article/div/p[19]',
 '/html/body/div[2]/main/article/div/p[20]',
 '/html/body/div[2]/main/article/div/p[20]',
 '/html/body/div[2]/main/article/div/p[21]',
 '/html/body/div[2]/main/article/div/p[22]',
 '/html/body/div[2]/main/article/div/p[23]',
 '/html/body/div[2]/main/article/div/p[23]',
 '/html/body/div[2]/main/article/div/p[24]',
 '/html/body/div[2]/main/article/div/p[25]',
 '/html/body/div[2]/main/article/div/p[25]',
 '/html/body/div[2]/main/article/div/p[26]',
 '/html/body/div[2]/main/article/div/p[26]',
 '/html/body/div[2]/main/article/div/p[28]',
 '/html/body/div[2]/main/article/div/p[28]',
 '/html/body/div[2]/main/article/div/p[28]',
 '/html/body/div[2]/main/article/div/footer/div/div/p',
 '/html/body/div[2]/main/article/div/footer/div/div/p',
 '/html/body/div[2]/main/article/div/footer/div/div/p',
 '/html/body/div[2]/main/article/div/footer/div/p',
 '/html/body/div[2]/main/article/div/footer/div/p']
</span></span></span><span class="fold-message">[About 57 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist = eatiht.get_xpath_frequency_distribution(xpaths)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(hist)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">21: </span><span class="result">6
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist
</span><span class="commandsep"></span><span class="output"><span class="result-ind">22: </span><span class="result">[('/html/body/div[2]/main/article/div', 50),</span></span><span class="folded"><span class="output"><span class="result">
 ('/html/body/div[2]/main/article/div/footer/div/div', 3),
 ('/html/body/div[2]/main/article/div/footer/div', 2),
 ('/html/body/div[2]/main/article/header/div', 1),
 ('/html/body/div[2]/header/div[1]/div[3]', 1),
 ('/html/body/div[2]/main/article/div/figure/figcaption/div', 1)]
</span></span></span><span class="fold-message">[About 5 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>base = [s <span class="keyword">for</span> (s, x) <span class="keyword">in</span> base <span class="keyword">if</span> hist[<span class="number">0</span>] <span class="keyword">in</span> x]
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#48&gt;", line 1, in &lt;module&gt;
    base = [s for (s, x) in base if hist[0] in x]
TypeError: 'in &lt;string&gt;' requires string as left operand, not tuple
</span></span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>base[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">23: </span><span class="result">('\n\nAsia Pacific|U.S.', '/html/body/div[2]/header/div[1]/div[3]/h6')
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">24: </span><span class="result">('/html/body/div[2]/main/article/div', 50)
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>base = [s <span class="keyword">for</span> (s, x) <span class="keyword">in</span> base <span class="keyword">if</span> hist[<span class="number">0</span>][<span class="number">0</span>] <span class="keyword">in</span> x]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(base)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">25: </span><span class="result">56
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>base_text = <span class="string">' '</span>.join(base)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> base_text[:<span class="number">100</span>]
</span><span class="commandsep"></span><span class="folded"><span class="output"><span class="stdout">

WASHINGTON —  American officials have concluded that North Korea was “centrally involved” in the h
</span></span></span><span class="fold-message">[About 2 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> base_text[:<span class="number">1000</span>]
</span><span class="commandsep"></span><span class="folded"><span class="output"><span class="stdout">

WASHINGTON —  American officials have concluded that North Korea was “centrally involved” in the hacking of Sony Pictures computers, even as the studio canceled the release of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack. 

Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse North Korea of what amounts to a cyberterrorism attack. Sony capitulated after the hackers threatened additional attacks, perhaps on theaters themselves, if the movie, “The Interview,” was released. 

Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined
</span></span></span><span class="fold-message">[About 11 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>parparpaths_filtered_by_avg_strlen = [x <span class="keyword">for</span> s,x <span class="keyword">in</span> filtered_by_avg_strlen]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>parparpaths_filtered_by_avg_strlen[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">26: </span><span class="result">'/html/body/div[2]/main/article/div/p[3]'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>parparpaths_filtered_by_max_strlen = [x <span class="keyword">for</span> s,x <span class="keyword">in</span> filtered_by_total_strlen]
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>parparpaths_filtered_by_total_strlen = parparpaths_filtered_by_max_strlen
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>parparpaths_filtered_by_total_strlen[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">27: </span><span class="result">'/html/body/div[2]/main/article/div/p[1]'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist_filtered_by_total_strlen = eatiht.get_xpath_frequency_distribution(parparpaths_filtered_by_total_strlen)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist_filtered_by_avg_strlen = eatiht.get_xpath_frequency_distribution(parparpaths_filtered_by_avg_strlen)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist_filtered_by_total_strlen[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">28: </span><span class="result">('/html/body/div[2]/main/article/div', 22)
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist_filtered_by_avg_strlen[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">29: </span><span class="result">('/html/body/div[2]/main/article/div', 12)
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>hist[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">30: </span><span class="result">('/html/body/div[2]/main/article/div', 50)
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>nobackrefToHtml_text = <span class="string">' '</span>.join([<span class="string">' '</span>.join(tnode[<span class="number">0</span>]) <span class="keyword">for</span> tnode,path <span class="keyword">in</span> tnodes_pars])
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(nobackrefToHtml_text)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">31: </span><span class="result">8584
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> nobackrefToHtml_text
</span><span class="commandsep"></span><span class="output"><span class="stdout">Asia Pacific | U.S. Said to Find North Korea Ordered Cyberattack on Sony U.S. Sa</span></span><span class="folded"><span class="output"><span class="stdout">id to Find North Korea Ordered Cyberattack on Sony WASHINGTON —  American officials have concluded that  North Korea  was “centrally involved” in the hacking of Sony Pictures computers, even as the studio  canceled the release  of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack. Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse  North Korea  of what amounts to a cyberterrorism attack. Sony capitulated after the hackers  threatened additional attacks , perhaps on theaters themselves, if the movie, “The Interview,” was released. Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea’s culpability, including the possible penetration of the North’s computer networks. Trailer: ‘The Interview’ Trailer: ‘The Interview’ A preview of the film. Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with  delicate diplomatic negotiations  for the return of Japanese citizens kidnapped years ago. The government is “considering a range of options in weighing a potential response,” said Bernadette Meehan, a spokeswoman for the National Security Council. The administration’s sudden urgency came after a new threat was delivered this week to desktop computers at Sony’s offices, warning that if “The Interview” was released on Dec. 25, “the world will be full of fear.” “Remember the 11th of September 2001,” it said. “We recommend you to keep yourself distant from the places at that time.” Hours before Sony canceled the movie, the four largest theater chains in the United States —  Regal Entertainment , AMC Entertainment,  Cinemark  and  Carmike Cinemas  — and several smaller chains said they would not show “The Interview” as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie. While intelligence officials have concluded that the  cyberattack  was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company’s computer systems, senior administration officials said. “This is of a different nature than past attacks,” one official said. An attack that began by wiping out data on corporate computers — something that had been previously seen in  South Korea  and  Saudi Arabia  — had turned “into a threat to the safety of Americans,” the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely. It is not clear how the United States determined that Mr. Kim’s government had played a central role in the Sony attacks. North Korea’s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country’s computer operations, including its elite cyberteam, and to establish “implants” in the country’s networks that, like a radar system, would monitor the development of malware transmitted from the country. It is hardly a foolproof system. Much of North Korea’s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, “this was of a sophistication that a year ago we would have said was beyond the North’s capabilities.” It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or  JPMorgan Chase’s systems  last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case. But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony’s machines. They also borrowed tools and techniques that had been used in at least two previous attacks,  one in Saudi Arabia  two years ago — widely attributed to Iran — and another  last year in South Korea  aimed at banks and media companies. The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack. The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said. The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on  30,000 of the company’s computers , replacing it with  an image of a burning American flag . Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market. At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony’s network. “It’s clear that they already had access to Sony’s network before the attack,” said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm. What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood’s largest studios and Japan’s most famous companies to surrender. Many attacks have been aimed at stealing credit card data, like the intrusions on the  Home Depot  and  Target  networks — and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that  targeted Iran’s nuclear program  was a rare attack on infrastructure. Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers. But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive. The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony’s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had “created a backdoor to Sony’s systems” that they repeatedly re-entered to send threatening messages to Sony employees. The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the “righteous deed of supporters and sympathizers.” But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country’s cyberarsenal for fear of retaliation. David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.
  A version of this article appears in print on December 18, 2014, on page A1 of the  New York edition  with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony.     Order Reprints |    Today's Paper | Subscribe 
 

</span></span></span><span class="fold-message">[About 106 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(base_text)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">32: </span><span class="result">7892
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> nobackrefToHtml_text[:<span class="number">1000</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">Asia Pacific | U.S. Said to Find North Korea Ordered Cyberattack on Sony U.S. Sa</span></span><span class="folded"><span class="output"><span class="stdout">id to Find North Korea Ordered Cyberattack on Sony WASHINGTON —  American officials have concluded that  North Korea  was “centrally involved” in the hacking of Sony Pictures computers, even as the studio  canceled the release  of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack. Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse  North Korea  of what amounts to a cyberterrorism attack. Sony capitulated after the hackers  threatened additional attacks , perhaps on theaters themselves, if the movie, “The Interview,” was released. Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what a
</span></span></span><span class="fold-message">[About 11 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>nobackrefToHtml_text = <span class="string">'\n\n'</span>.join([<span class="string">' '</span>.join(tnode[<span class="number">0</span>]) <span class="keyword">for</span> tnode,path <span class="keyword">in</span> tnodes_pars])
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> nobackrefToHtml_text[:<span class="number">1000</span>]
</span><span class="commandsep"></span><span class="output"><span class="stdout">Asia Pacific | U.S. Said to Find North Korea Ordered Cyberattack on Sony</span></span><span class="folded"><span class="output"><span class="stdout">

U.S. Said to Find North Korea Ordered Cyberattack on Sony

WASHINGTON —  American officials have concluded that  North Korea  was “centrally involved” in the hacking of Sony Pictures computers, even as the studio  canceled the release  of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack.

Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse  North Korea  of what amounts to a cyberterrorism attack. Sony capitulated after the hackers  threatened additional attacks , perhaps on theaters themselves, if the movie, “The Interview,” was released.

Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of wh
</span></span></span><span class="fold-message">[About 11 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">print</span> nobackrefToHtml_text
</span><span class="commandsep"></span><span class="output"><span class="stdout">Asia Pacific | U.S. Said to Find North Korea Ordered Cyberattack on Sony</span></span><span class="folded"><span class="output"><span class="stdout">

U.S. Said to Find North Korea Ordered Cyberattack on Sony

WASHINGTON —  American officials have concluded that  North Korea  was “centrally involved” in the hacking of Sony Pictures computers, even as the studio  canceled the release  of a far-fetched comedy about the assassination of the North’s leader that is believed to have led to the cyberattack.

Senior administration officials, who would not speak on the record about the intelligence findings, said the White House was debating whether to publicly accuse  North Korea  of what amounts to a cyberterrorism attack. Sony capitulated after the hackers  threatened additional attacks , perhaps on theaters themselves, if the movie, “The Interview,” was released.

Officials said it was not clear how the White House would respond. Some within the Obama administration argue that the government of Kim Jong-un must be confronted directly. But that raises questions of what actions the administration could credibly threaten, or how much evidence to make public without revealing details of how it determined North Korea’s culpability, including the possible penetration of the North’s computer networks.

Trailer: ‘The Interview’

Trailer: ‘The Interview’

A preview of the film.

Other administration officials said a direct confrontation with the North would provide North Korea with the kind of dispute it covets. Japan, where Sony is an iconic corporate name, has argued that a public accusation could interfere with  delicate diplomatic negotiations  for the return of Japanese citizens kidnapped years ago.

The government is “considering a range of options in weighing a potential response,” said Bernadette Meehan, a spokeswoman for the National Security Council.

The administration’s sudden urgency came after a new threat was delivered this week to desktop computers at Sony’s offices, warning that if “The Interview” was released on Dec. 25, “the world will be full of fear.”

“Remember the 11th of September 2001,” it said. “We recommend you to keep yourself distant from the places at that time.”

Hours before Sony canceled the movie, the four largest theater chains in the United States —  Regal Entertainment , AMC Entertainment,  Cinemark  and  Carmike Cinemas  — and several smaller chains said they would not show “The Interview” as a result of the threat. The cancellations virtually killed the movie as a theatrical enterprise, at least in the near term, one of the first known instances of a threat from another nation pre-empting the release of a movie.

While intelligence officials have concluded that the  cyberattack  was both state-sponsored and far more destructive than any seen before on American soil, there are still differences of opinion over whether North Korea was aided by Sony insiders with knowledge of the company’s computer systems, senior administration officials said.

“This is of a different nature than past attacks,” one official said.

An attack that began by wiping out data on corporate computers — something that had been previously seen in  South Korea  and  Saudi Arabia  — had turned “into a threat to the safety of Americans,” the official said. But echoing a statement from the Department of Homeland Security, the official said there was no specific information that an attack was likely.

It is not clear how the United States determined that Mr. Kim’s government had played a central role in the Sony attacks. North Korea’s computer network has been notoriously difficult to infiltrate. But the National Security Agency began a major effort four years ago to penetrate the country’s computer operations, including its elite cyberteam, and to establish “implants” in the country’s networks that, like a radar system, would monitor the development of malware transmitted from the country.

It is hardly a foolproof system. Much of North Korea’s hacking is done from China. And while the attack on Sony used some commonly available cybertools, one intelligence official said, “this was of a sophistication that a year ago we would have said was beyond the North’s capabilities.”

It is rare for the United States to publicly accuse countries suspected of involvement in cyberintrusions. The administration never publicly said who attacked White House and State Department computers over the past two months, or  JPMorgan Chase’s systems  last summer. Russia is suspected in the first two cases, but there is conflicting evidence in the JPMorgan case.

But there is a long forensic trail involving the Sony hacking, several security researchers said. The attackers used readily available commercial tools to wipe data off Sony’s machines. They also borrowed tools and techniques that had been used in at least two previous attacks,  one in Saudi Arabia  two years ago — widely attributed to Iran — and another  last year in South Korea  aimed at banks and media companies.

The Sony attacks were routed from command-and-control centers across the world, including a convention center in Singapore and Thammasat University in Thailand, the researchers said. But one of those servers, in Bolivia, had been used in limited cyberattacks on South Korean targets two years ago. That suggested that the same group or individuals might have been behind the Sony attack.

The Sony malware shares remarkable similarities with that used in attacks on South Korean banks and broadcasters last year. Those intrusions, which also destroyed data belonging to their victims, are believed to have been the work of a cybercriminal gang known as Dark Seoul. Some experts say they cannot rule out the possibility that the Sony attack was the work of a Dark Seoul copycat, the security researchers said.

The Sony attack also borrowed a wiping tool from an attack two years ago at Saudi Aramco, the national oil company, where hackers wiped off data on  30,000 of the company’s computers , replacing it with  an image of a burning American flag .

Security experts were never able to track down those hackers, though United States officials have long said they believed the attacks emanated from Iran, using tools that are now on the black market.

At Sony, investigators are looking into the possibility that the attackers had inside help. Embedded in the malicious code were the names of Sony servers and administrative credentials that allowed the malware to spread across Sony’s network.

“It’s clear that they already had access to Sony’s network before the attack,” said Jaime Blasco, a researcher at AlienVault, a cybersecurity consulting firm.

What is remarkable in this case is that after three weeks of pressure, the attack forced one of Hollywood’s largest studios and Japan’s most famous companies to surrender.

Many attacks have been aimed at stealing credit card data, like the intrusions on the  Home Depot  and  Target  networks — and others at disrupting ATMs. An American and Israeli attack known as Olympic Games that  targeted Iran’s nuclear program  was a rare attack on infrastructure.

Sony has tried to put the best face on the situation, saying it understood that movie theaters had to be worried about the safety of their customers.

But the precedent set Wednesday could be damaging. Other countries or hacking groups could try similar tactics over movies, books or television broadcasts that they find offensive.

The cost of the assault was small: The attackers used readily available tools to steal data and then wipe it off Sony’s machines. Representative Mike Rogers, the Michigan Republican who leads the House Intelligence Committee, said the hackers had “created a backdoor to Sony’s systems” that they repeatedly re-entered to send threatening messages to Sony employees.

The North Koreans have half-denied involvement, but have left open the possibility that the attacks were the “righteous deed of supporters and sympathizers.”

But that leaves open the question of what to do about the Sony attack. The North is under some of the heaviest economic sanctions ever applied. A large-scale American cyberattack would require a presidential order, and Mr. Obama has been hesitant to use the country’s cyberarsenal for fear of retaliation.

David E. Sanger reported from Washington, and Nicole Perlroth from San Francisco. Michael Cieply contributed reporting from Los Angeles.
 

A version of this article appears in print on December 18, 2014, on page A1 of the  New York edition  with the headline: U.S. Is Said to Find North Korea Behind Cyberattack on Sony.     Order Reprints |    Today's Paper | Subscribe 
 

</span></span></span><span class="fold-message">[About 106 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> eatiht
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#2&gt;", line 1, in &lt;module&gt;
    tnodes_pars = eatiht.get_text_children_and_parent_xpaths(url)
AttributeError: 'module' object has no attribute 'get_text_children_and_parent_xpaths'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = eatiht.get_textnodes_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#3&gt;", line 1, in &lt;module&gt;
    tnodes_pars = eatiht.get_textnodes_and_parent_xpaths(url)
AttributeError: 'module' object has no attribute 'get_textnodes_and_parent_xpaths'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> etv2
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#4&gt;", line 1, in &lt;module&gt;
    import etv2
  File "etv2.py", line 41, in &lt;module&gt;
    xpath_to_textnodes=DEF_TEXT_FINDER_XPATH):
NameError: name 'DEF_TEXT_FINDER_XPATH' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> etv2
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = eatiht.get_textnodes_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#2&gt;", line 1, in &lt;module&gt;
    tnodes_pars = eatiht.get_textnodes_and_parent_xpaths(url)
NameError: name 'eatiht' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = etv2.get_textnodes_and_parent_xpaths(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#3&gt;", line 1, in &lt;module&gt;
    tnodes_pars = etv2.get_textnodes_and_parent_xpaths(url)
AttributeError: 'module' object has no attribute 'get_textnodes_and_parent_xpaths'
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = etv2.get_parent_xpaths_and_textnodes(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#4&gt;", line 1, in &lt;module&gt;
    tnodes_pars = etv2.get_parent_xpaths_and_textnodes(url)
  File "etv2.py", line 181, in get_parent_xpaths_and_textnodes
    xpath_finder = parsed_html.getroot().getroottree().getpath
NameError: global name 'parsed_html' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> etv2
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = etv2.get_parent_xpaths_and_textnodes(url)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#2&gt;", line 1, in &lt;module&gt;
    tnodes_pars = etv2.get_parent_xpaths_and_textnodes(url)
  File "etv2.py", line 183, in get_parent_xpaths_and_textnodes
    nodes_with_text = parsed_html.xpath(xpath_to_text)
NameError: global name 'parsed_html' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> etv2
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = etv2.get_parent_xpaths_and_textnodes(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(tnodes_pars)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">35
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">('/html/body/div[2]/header/div[1]/div[3]/h6',
 [['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  0,
  0,
  0])
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>count_ttl_avg_across_paths_textnodes(tnodes_pars,<span class="builtin">True</span>)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#5&gt;", line 1, in &lt;module&gt;
    count_ttl_avg_across_paths_textnodes(tnodes_pars,True)
NameError: name 'count_ttl_avg_across_paths_textnodes' is not defined
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>etv2.count_ttl_avg_across_paths_textnodes(tnodes_pars,<span class="builtin">True</span>)
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#6&gt;", line 1, in &lt;module&gt;
    etv2.count_ttl_avg_across_paths_textnodes(tnodes_pars,True)
  File "etv2.py", line 163, in count_ttl_avg_across_paths_textnodes
    ttl = ttlfunc(path_nodes[1][0])
TypeError: 'bool' object is not callable
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>etv2.count_ttl_avg_across_paths_textnodes(tnodes_pars)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">2: </span><span class="result">('/html/body/div[2]/header/div[1]/div[3]/h6',
 [['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  70,
  23])
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">1</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">3: </span><span class="result">('/html/body/div[2]/main/article/header/div/h1',
 [['U.S. Said to Find North Korea Ordered Cyberattack on Sony'], 1, 57, 57])
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="keyword">import</span> etv2
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars = etv2.get_parent_xpaths_and_textnodes(url)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>etv2.count_ttl_avg_across_paths_textnodes(tnodes_pars)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>tnodes_pars[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">('/html/body/div[2]/header/div[1]/div[3]/h6',
 [['Asia Pacific',
   '|',
   'U.S. Said to Find North Korea Ordered Cyberattack on Sony'],
  3,
  70,
  23])
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>avg,ttl,crd = etv2.calculate_avg_across_parpaths_tnodes_avg_strlen(tnodes_pars)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>avg
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">242
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>ttl
</span><span class="commandsep"></span><span class="output"><span class="result-ind">2: </span><span class="result">8499
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>crd
</span><span class="commandsep"></span><span class="output"><span class="result-ind">3: </span><span class="result">35
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( <span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> tnode: <span class="builtin">sum</span>([ <span class="builtin">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> tnode ]) &gt; avg_avg_strlen))
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):
  File "&lt;pyshell#9&gt;", line 1, in &lt;module&gt;
    filtered = list( filter(tnodes_pars, lambda tnode: sum([ len(s) for s in tnode ]) &gt; avg_avg_strlen))
TypeError: 'function' object is not iterable
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> tnode: <span class="builtin">sum</span>([ <span class="builtin">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> tnode ]) &gt; avg_avg_strlen))
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#10&gt;", line 1, in &lt;module&gt;
    filtered = list( etv2.filter(tnodes_pars, lambda tnode: sum([ len(s) for s in tnode ]) &gt; avg_avg_strlen))
  File "etv2.py", line 91, in filter
    if func(pea):
  File "&lt;pyshell#10&gt;", line 1, in &lt;lambda&gt;
    filtered = list( etv2.filter(tnodes_pars, lambda tnode: sum([ len(s) for s in tnode ]) &gt; avg_avg_strlen))
NameError: global name 'avg_avg_strlen' is not defined
</span></span></span><span class="fold-message">[About 7 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> tnode: <span class="builtin">sum</span>([ <span class="builtin">len</span>(s) <span class="keyword">for</span> s <span class="keyword">in</span> tnode ]) &gt; avg))
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">4: </span><span class="result">0
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">3</span>]) &gt; avg )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#13&gt;", line 1, in &lt;module&gt;
    filtered = list( etv2.filter(tnodes_pars, lambda x: x[3]) &gt; avg )
TypeError: 'bool' object is not iterable
</span></span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">1</span>][<span class="number">3</span>]) &gt; avg )
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#14&gt;", line 1, in &lt;module&gt;
    filtered = list( etv2.filter(tnodes_pars, lambda x: x[1][3]) &gt; avg )
TypeError: 'bool' object is not iterable
</span></span></span><span class="fold-message">[About 3 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">3</span>] &gt; avg ))
</span><span class="commandsep"></span><span class="output"><span class="exception">Traceback (most recent call last):</span></span><span class="folded"><span class="output"><span class="exception">
  File "&lt;pyshell#15&gt;", line 1, in &lt;module&gt;
    filtered = list( etv2.filter(tnodes_pars, lambda x: x[3] &gt; avg ))
  File "etv2.py", line 91, in filter
    if func(pea):
  File "&lt;pyshell#15&gt;", line 1, in &lt;lambda&gt;
    filtered = list( etv2.filter(tnodes_pars, lambda x: x[3] &gt; avg ))
IndexError: tuple index out of range
</span></span></span><span class="fold-message">[About 7 more lines. Double-click to unfold]
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">1</span>][<span class="number">3</span>] &gt; avg ))
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">5: </span><span class="result">7
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">1</span>][<span class="number">2</span>] &gt; avg ))
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">6: </span><span class="result">16
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered[<span class="number">0</span>]
</span><span class="commandsep"></span><span class="output"><span class="result-ind">7: </span><span class="result">('/html/body/div[2]/main/article/div/p[1]',
 [[u'WASHINGTON \u2014  American officials have concluded that ',
   'North Korea',
   u' was \u201ccentrally involved\u201d in the hacking of Sony Pictures computers, even as the studio ',
   'canceled the release',
   u' of a far-fetched comedy about the assassination of the North\u2019s leader that is believed to have led to the cyberattack.'],
  5,
  291,
  58])
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>avg
</span><span class="commandsep"></span><span class="output"><span class="result-ind">8: </span><span class="result">242
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span>
<span class="message">==================== New Session ====================
</span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>url = <span class="string">'http://www.nytimes.com/2014/12/18/world/asia/us-links-north-korea-to-sony-hacking.html'</span>
<span class="prompt">... </span><span class="keyword">import</span> os
<span class="prompt">... </span>os.chdir(<span class="string">'C:/users/rodrigo/desktop/eatiht_project/eatiht/eatiht'</span>)
<span class="prompt">... </span>
<span class="prompt">... </span><span class="comment">#</span>
<span class="prompt">... </span>
<span class="prompt">... </span><span class="keyword">import</span> etv2
<span class="prompt">... </span>tnodes_pars = etv2.get_parent_xpaths_and_textnodes(url)
<span class="prompt">... </span>etv2.count_ttl_avg_across_paths_textnodes(tnodes_pars)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>avg,ttl,crd = etv2.calculate_avg_across_parpaths_tnodes_avg_strlen(tnodes_pars)
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>avg
</span><span class="commandsep"></span><span class="output"><span class="result-ind">0: </span><span class="result">159
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span>filtered = <span class="builtin">list</span>( etv2.<span class="builtin">filter</span>(tnodes_pars, <span class="keyword">lambda</span> x: x[<span class="number">1</span>][<span class="number">2</span>] &gt; avg ))
</span><span class="commandsep"></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span><span class="builtin">len</span>(filtered)
</span><span class="commandsep"></span><span class="output"><span class="result-ind">1: </span><span class="result">23
</span></span><span class="command"><span class="prompt">&gt;&gt;&gt; </span></span></body>
</html>
